/*! For license information please see main.0edfc9be.chunk.js.LICENSE.txt */
(this["webpackJsonp@meddbriefer/debriefer"]=this["webpackJsonp@meddbriefer/debriefer"]||[]).push([[0],{49:function(e,t,n){},57:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r,i=n(2),o=n.n(i),s=n(43),a=n.n(s),c=(n(49),n(25)),l=n(11),d=n(26),u=(n(56),n(57),n(7)),h=n(31),b=(n(40),n(42),function(e,t){var n=function(e){var t=h.default.apps.filter((function(t){return t.options.appId===e}));return 1===t.length?t[0]:null}(e.appId);return n||h.default.initializeApp(e,t)});"pam"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ENV?(console.log("using pjordan config"),r=b({apiKey:"AIzaSyB9eVT-fu4TOjxHoPAXqsnz9tCcbTJkTOw",authDomain:"pamdev-ea800.firebaseapp.com",projectId:"pamdev-ea800",storageBucket:"pamdev-ea800.appspot.com",messagingSenderId:"366450927885",appId:"1:366450927885:web:caa5f022ef1de182a0e844",measurementId:"G-JC5XZEPYT1"},"pam")):"scott"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ENV?(console.log("using scott config"),r=b({apiKey:"AIzaSyBEhbIdVW2F2vvvfvpNb2SsCDP9Yoc__z8",authDomain:"scottdev-f6528.firebaseapp.com",projectId:"scottdev-f6528",storageBucket:"scottdev-f6528.appspot.com",messagingSenderId:"447730403122",appId:"1:447730403122:web:1727020dbac4ad4cf6f92b"})):(console.log("using production config"),r=b({apiKey:"AIzaSyBOgWAbXUGckpad2sk0IUo00hZsV4WxG0E",authDomain:"meddbriefer-68cd4.firebaseapp.com",projectId:"meddbriefer-68cd4",storageBucket:"meddbriefer-68cd4.appspot.com",messagingSenderId:"1087114796018",appId:"1:1087114796018:web:679fbab38dbf78af0ce96b",measurementId:"G-Q7QZKC9KHW"},"production"));var f,p,m,v=r,O=(v.auth(),v.firestore()),g=n(6),j=n.n(g),y=n(12),w=n(19),C=(n(34),"assessment"),P="assessment-option",E="assessment-with-options",x="decision",k="decision-option",D="intervention",S="phase",I="required-action",A="sub-phase",N=Object.freeze({PHASE:S,SUB_PHASE:A,ASSESS:C,AWO:E,ASSESS_OPTION:P,ASSESSO:P,CL_HEADING:"checklist-heading",CL_PROMPT:"checklist-prompt",DECISION:x,DECISION_OPTION:k,DIST_PROMPT:"distinguishing-prompt",NESTED_CHECKLIST:"nested-checklist",REQUIRED:I,REQURED:I,INTERV:D,PROMPT_SET:"prompt-set",PROMPT:"prompt",ANSWER:"answer"}),T=Object.freeze({ONE:"one",OOM:"one-or-more",NONE:"none"}),F=(Object.freeze({ONE:"One",OOM:"One or more",NONE:"None"}),Object.freeze({PHASE:"",SUB_PHASE:"",ANSWER:"answer-",ASSESS:"assess-",AWO:"assessment-with-options-",ASSESS_OPTION:"assess-option-",CL_PROMPT:"cl-prompt-",DECISION:"decision-",DECISION_OPTION:"decision-option-",INTERV:"intv-",PROMPT_SET:"prompt-set-",PROMPT:"prompt-",REQUIRED:"required-action-"}),Object.freeze({AW:"airway",BR:"breathing",BL:"bleeding",SH:"shock"}),Object.freeze({AW:"Airway",BR:"Breathing",BL:"Bleeding",SH:"Shock"}),[C,E,x,I]),R=[P,k],B=[C,E,x,I,D,S,A],L=(Object.freeze({NONE:"",MIN:"minimal",OPT:"optional",REQ:"required",CONTRA:"contraindicated",UNN:"unnecessary",IR:"irrelevant"}),n(9)),q=(n(17),n(37),n(38),n(16)),M=(N.DIST_PROMPT,T.ONE,N.DIST_PROMPT,T.OOM,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,N.PROMPT,T.ONE,f={depth:3,type:"intervention",id:"menu-item-nasotracheal-intubation",interventionID:"intv-nasotracheal-intubation"},Object(q.a)(f,"interventionID","intv-nasotracheal-intubation"),Object(q.a)(f,"interventionID","intv-nasotracheal-intubation"),Object(q.a)(f,"intvCategoryID","intv-cat-airway"),p={depth:4,type:"intervention",id:"menu-item-rapid-sequence-intubation",interventionID:"intv-rapid-sequence-intubation"},Object(q.a)(p,"interventionID","intv-rapid-sequence-intubation"),Object(q.a)(p,"interventionID","intv-rapid-sequence-intubation"),Object(q.a)(p,"intvCategoryID","intv-cat-airway"),function(e,t){return e.collection("published-scenarios").doc(t).get().then((function(e){return e.data()}))}),_=function(){var e=Object(y.a)(j.a.mark((function e(t,n,r){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection(n).where("id","==","".concat(r)).get();case 2:return i=e.sent,e.abrupt("return",i.empty);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),W=function(e,t){return e.collection("logs").doc(t).get().then((function(e){var t=e.data();return t.id=e.id,t}))},H=function(e,t){return e.collection("debriefing-feedback-logs").doc(t).get().then((function(e){var t=e.data();return t.id=e.id,t}))},U=n(62),Y=n(1),V=function(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)(!1),s=Object(u.a)(o,2),a=s[0],l=s[1];return Object(i.useEffect)((function(){var e;(e=O,e.collection("logs").get().then((function(e){return e.docs.map((function(e){var t=e.data();return{id:e.id,label:t.label,scenario:t.scenarioName,userName:t.userName,timestamp:t.timestamp}}))}))).then((function(e){r(e),l(!0)})).catch((function(e){return console.log("error fetching logs",e)}))}),[]),a?Object(Y.jsxs)(U.a,{striped:!0,borderless:!0,size:"sm",hover:!0,children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{children:"Label"}),Object(Y.jsx)("th",{children:"Scenario"}),Object(Y.jsx)("th",{children:"Username"}),Object(Y.jsx)("th",{children:"Timestamp"})]})}),Object(Y.jsx)("tbody",{children:n.map((function(e){return Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:e.label}),Object(Y.jsx)("td",{children:e.scenario}),Object(Y.jsx)("td",{children:e.userName}),Object(Y.jsx)("td",{children:e.timestamp}),Object(Y.jsxs)("td",{children:[Object(Y.jsx)(c.Link,{to:"/logs/".concat(e.id),children:"Analyze"}),"\xa0\xa0\xa0\xa0",Object(Y.jsx)(c.Link,{to:"/debriefing-feedback-logs/".concat(e.id),children:"Review"})]})]},e.id)}))})]}):Object(Y.jsx)("h4",{children:"fetching log data"})},z=n(10),G={Good:"text-success",Caution:"text-warning",Problem:"text-danger","Not implemented":"text-muted"},K={Good:"sentiment_satisfied",Caution:"report_problem",Problem:"highlight_off","Not implemented":"sentiment_neutral"},Q={contraindicated:["Problem","You should not have done this action because it is contraindicated in this case +bos ?contraindicatedWhy +bos ?why +eos"],irrelevant:["Problem","You should not have done this action because it is irrelevant in this case +bos ?why +eos"],unnecessary:["Problem","You should not have done this action because it is unnecessary in this case +bos ?why +eos"],missingMinimal:["Problem","You did not do this action +bos ?why +eos"],missingOptional:["Caution","You did not do this action +bos but it was optional in this case +bos ?why +eos"],missingRequired:["Problem","You did not do this action +bos ?why +eos"],missingRequiredAssessment:["Problem","You did not do this action +bos ?assessmentFB +eos"],notNecessary:["Caution","You should not have done this action because it was unnecessary +bos ?why +eos"],assessment:["Good",""],"assessment-option":["Good",""],"decision-option":["Good",""],"required-action":["Good",""],goodIntv:["Good","?intvStatusFB +eos "],"misOrdered-assessment":["Problem","Doing this action was correct but it was done out of the recommended order +bos @orderingFB +eos"],"misOrdered-assessment-option":["Problem","Doing this action was correct but it was done out of the recommended order +bos @orderingFB +eos"],"misOrdered-decision-option":["Problem","Doing this action was correct but it was done out of the recommeded order +bos @orderingFB"],"misOrdered-required-action":["Problem","Doing this action was correct but it was done out of the recommeded order +bos @orderingFB"],"misOrdered-goodIntv":["Problem","Doing this action was correct but it was done out of the recommeded order +bos @orderingFB"],"misOrdered-phase-assessment":["Problem","Doing this action was correct but this section was not completed in the recommended order +bos @orderingFB +eos"],"misOrdered-phase-assessment-option":["Good","Doing this action was correct but this section was not completed in the recommended order +bos @orderingFB +eos"],"misOrdered-phase-decision-option":["Problem","Doing this action was correct but this section was not completed in the recommended order +bos @orderingFB"],"misOrdered-phase-required-action":["Problem","Doing this action was correct but this section was not completed in the recommended order +bos @orderingFB"],"misOrdered-phase-goodintv":["Problem","Doing this action was correct but this section was not completed in the recommended order +bos @orderingFB"],intvCheckWNoIntvFound:["Caution","You didn't do this intervention so it doesn't make sense to check the status of it at this point."],unexpectedPatientIntvCheck:["Caution","This status check is not likely to reveal any useful information."],patientIntvCheck:["Good",""],patientVitalCheck:["Good",""],"assessment-option-incorrect":["Problem","Doing this action was correct but there is a problem with how you planned to do it +bos @incorrectAnswerFB +eos "],"decision-option-incorrect":["Problem","Doing this action was correct but there is a problem with how you planned to do it +bos @incorrectAnswerFB +eos "],"incorrect-answers":["Problem","Doing this action is correct but there is a problem with how you planned to do it +bos @incorrectAnswersFB +bos ?intvStatusFB +eos"],"minimal-incorrect-answers":["Problem","Doing this action was correct and would solve the problem but you did not follow protocol +bos ?minimalWhy +bos also there is a problem with how you planned to do this intervention +bos @incorrectAnswersFB +bos ?intvStatusFB +eos"],minimal:["Caution","Doing this action is correct and solves the problem but you did not follow protocol +bos @minimalWhy +bos ?intvStatusFB +eos "],"misOrdered-assessment-option-incorrect":["Problem","Doing this action was correct but it was done out of the recommended order +bos @orderingFB +bos Also there is a problem with how you planned to do it +bos @incorrectAnswerFB +eos "],"misOrdered-decision-option-incorrect":["Problem","Doing this action was correct but it was done out of the recommended order +bos @orderingFB +bos Also there is a problem with how you planned to do it +bos @incorrectAnswerFB +eos "],"misOrdered-incorrect-answers":["Problem","Doing this action is correct but it was done out of the recommended order +bos @orderingFB +bos also there is a problem with how you planned to do it +bos @incorrectAnswersFB +bos ?intvStatusFB +eos"],"misOrdered-minimal-incorrect-answers":["Problem","Doing this action is correct but it was done out of the recommended order +bos @orderingFB +bos And while this would solve the problem, you did not follow protocol +bos @minimalWhy +bos also there is a problem with how you planned to do it +bos @incorrectAnswersFB +bos ?intvStatusFB +eos"],"misOrdered-minimal":["Problem","Doing this action is correct but it was done out of the recommended order +bos @orderingFB +bos And while this would solve the problem, you did not follow protocol +bos @minimalWhy +bos ?intvStatusFB +eos"],"misOrdered-phase-assessment-option-incorrect":["Problem","Doing this action was correct but this section was not completed in the recommended order +bos @orderingFB +bos Also there is a problem with how you planned to do it +bos @incorrectAnswerFB +eos "],"misOrdered-phase-decision-option-incorrect":["Problem","Doing this action was correct but this section was not completed in the recommended order +bos @orderingFB +bos Also there is a problem with how you planned to do it +bos @incorrectAnswerFB +eos "],"misOrdered-phase-incorrect-answers":["Problem","Doing this action is correct but this section was not completed in the recommended order +bos @orderingFB +bos also there is a problem with how you planned to do it +bos @incorrectAnswersFB +bos ?intvStatusFB +eos"],"misOrdered-phase-minimal-incorrect-answers":["Problem","Doing this action is correct but this section was not completed in the recommended order +bos @orderingFB +bos And while this would solve the problem, you did not follow protocol +bos ?minimalWhy +bos also there is a problem with how you planned to do it +bos @incorrectAnswersFB +bos ?intvStatusFB +eos"],"misOrdered-phase-minimal":["Problem","Doing this action is correct but this section was not completed in the recommended order +bos @orderingFB +bos And while this would solve the problem, you did not follow protocol +bos ?minimalWhy +bos ?intvStatusFB +eos"],green:["Good",""],red:["Problem",""],yellow:["Caution",""],default:["Not implemented","This action was not expected.  There could be an issue with how this scenario is represented within the system."]},J={absent:["absent","missingMinimal","missingRequired","missingRequiredAssessment"],errors:["misOrdered-assessment","misOrdered-assessment-option","misOrdered-decision-option","misOrdered-required-action","misOrdered-goodIntv","assessment-option-incorrect","decision-option-incorrect","incorrect-answers","minimal-incorrect-answers","misOrdered-assessment-option-incorrect","misOrdered-decision-option-incorrect","misOrdered-incorrect-answers","misOrdered-minimal-incorrect-answers","misOrdered-minimal","misOrdered-phase-assessment-option-incorrect","misOrdered-phase-decision-option-incorrect","misOrdered-phase-incorrect-answers","misOrdered-phase-minimal-incorrect-answers"],good:["good","assessment","assessment-option","decision-option","required-action","goodIntv","patientIntvCheck","patientVitalCheck","irrelevant","unnecessary","contraindicated","notNecessary","intvCheckWNoIntvFound","unexpectedPatientIntvCheck","default","minimal","misOrdered-phase-minimal","misOrdered-phase-assessment","misOrdered-phase-assessment-option","misOrdered-phase-decision-option","misOrdered-phase-required-action","misOrdered-phase-goodIntv"]},X={absent:["missingMinimal","missingRequired","missingRequiredAssessment"],misordered:["misOrdered-assessment","misOrdered-assessment-option","misOrdered-decision-option","misOrdered-required-action","misOrdered-goodIntv","misOrdered-minimal"],misorderedErrors:["misOrdered-assessment-option-incorrect","misOrdered-decision-option-incorrect","misOrdered-incorrect-answers","misOrdered-minimal-incorrect-answers","misOrdered-phase-assessment-option-incorrect","misOrdered-phase-decision-option-incorrect","misOrdered-phase-incorrect-answers","misOrdered-phase-minimal-incorrect-answers"],errors:["assessment-option-incorrect","decision-option-incorrect","incorrect-answers","minimal-incorrect-answers"],good:["assessment","assessment-option","decision-option","required-action","goodIntv","patientIntvCheck","patientVitalCheck","irrelevant","unnecessary","contraindicated","notNecessary","intvCheckWNoIntvFound","unexpectedPatientIntvCheck","default","minimal","misOrdered-phase-minimal","misOrdered-phase-assessment","misOrdered-phase-assessment-option","misOrdered-phase-decision-option","misOrdered-phase-required-action","misOrdered-phase-goodIntv"]},Z=[{scenarioName:"M2CA",exceptions:[["required-action-obtain-OPQRST","This cannot be assessed when GCS < 15"],["assess-opqrst-info","This cannot be assessed when GCS < 15"]]}],$=(m={"scene-size-up":{id:"T1",before:["primary-survey"],beforeOp:"",after:[],afterOp:"",type:"policy"},"primary-survey":{id:"T2a",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"intv-control-severe-bleeding-technique-direct-pressure":{id:"T2b",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"intv-control-severe-bleeding-technique-2nd-tourniquet":{id:"T2c",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"intv-control-severe-bleeding-technique-tourniquet":{id:"T2d",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"ints-call-for-helicopter":{id:"T3",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"required-action-obtains-vitals":{id:"T4",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"required-action-attempt-obtain-sample":{id:"T5a",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"required-action-obtain-OPQRST":{id:"T5b",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"},"intv-transfer":{id:"T7",before:["secondary-assessment"],beforeOp:"",after:["airway","breathing","circulation"],afterOp:"",type:"policy"},"trauma-expose":{id:"T8",before:["chest"],beforeOp:"or",after:[],afterOp:"",type:"policy"},"general-impression":{id:"T9",before:["airway","breathing","circulation"],beforeOp:"and",after:[],afterOp:"",type:"policy"},"intv-spinal-immobilization-technique-manual-c-spine":{id:"T10a",before:["airway"],beforeOp:"",after:[],afterOp:"",type:"policy"},"intv-spinal-immobilization-technique-cervical-collar":{id:"T10b",before:["airway"],beforeOp:"",after:[],afterOp:"",type:"policy"},"intv-airway-patency-technique-suction-airway":{id:"T13",before:["secondary-assessment"],beforeOp:"",after:["airway"],afterOp:"",type:"policy"}},Object(q.a)(m,"intv-airway-patency-technique-suction-airway",{id:"T14",before:["intv-oropharyngeal-airway","intv-nasopharyngeal-airway"],beforeOp:"or",after:[],afterOp:"",type:"policy"}),Object(q.a)(m,"intv-oropharyngeal-airway",{id:"T15a",before:["intv-nasotracheal-intubation","intv-orotracheal-intubation","intv-sedation-assisted-intubation","intv-rapid-sequence-intubation"],beforeOp:"or",after:[],afterOp:"",type:"policy"}),Object(q.a)(m,"intv-nasopharyngeal-airway",{id:"T15b",before:["intv-nasotracheal-intubation","intv-orotracheal-intubation","intv-sedation-assisted-intubation","intv-rapid-sequence-intubation"],beforeOp:"or",after:[],afterOp:"",type:"policy"}),Object(q.a)(m,"intv-ventilation-technique-bag-valve-mask",{id:"T17",before:["secondary-assessment"],beforeOp:"",after:[],afterOp:"",type:"policy"}),m),ee={"assess-major-bleeding":{id:"c1",before:["airway","breathing"],beforeOp:"",after:[],afterOp:"",type:"policy"},"intv-transport":{id:"T2-c1",before:["into-establish-IV","intv-control-shock-technique-administer-iv-boluses"],beforeOp:"and",after:[],afterOp:"",type:"policy"},"secondary-assessment":{id:"T6-c1",before:["intv-transfer","ongoing-mgmt-plan"],beforeOp:"",after:[],afterOp:"",type:"policy"},"pulse-checks":{id:"T12-c1",before:["airway"],beforeOp:"or",after:[],afterOp:"",type:"policy"}},te={M2CA:["c1","T6-c1"],B4CA:[],B7CA:[],SC8CP:["T2-c1","T6-c1","T12-c1"]},ne={"intv-nasopharyngeal-airway":{intvStatusNeeded:!0,vitalsNeeded:[]},"intv-oropharyngeal-airway":{intvStatusNeeded:!0,vitalsNeeded:[]},"intv-orotracheal-intubation":{intvStatusNeeded:!0,vitalsNeeded:[]},"intv-ventilation-technique-bag-valve-mask":{intvStatusNeeded:!1,vitalsNeeded:["R","Spo2","BP","Skin"]},"intv-sedation-assisted-intubation":{intvStatusNeeded:!1,vitalsNeeded:["R","Spo2","BP","Skin"]},"intv-control-severe-bleeding-technique-direct-pressure":{intvStatusNeeded:!0,vitalsNeeded:[]},"intv-control-severe-bleeding-technique-tourniquet":{intvStatusNeeded:!0,vitalsNeeded:[]},"intv-control-severe-bleeding-technique-2nd-tourniquet":{intvStatusNeeded:!0,vitalsNeeded:[]}},re={Action:{id:"top",label:"Top most node -level 0",feedbackAbsent:"Nothing done. Start scenario again.",feedbackOutOfOrder:"",feedbackError:"All wrong. Please start scenario again.",subActions:[{id:"scene-size-up",label:"Child1 -level1",feedbackAbsent:"absent -Child1 level 1",feedbackOutOfOrder:"late -Child1 level 1",feedbackErrors:"wrong -Child1 level 1",subActions:[{id:"assess-scene-safety",label:"Child1 of Child1 -level 2",feedbackAbsent:"absent -Child1 of Child1 -level2",feedbackOutOfOrder:"late -Child1 of Child1 -level2",feedbackErrors:"wrong -Child1 of Child1 -level2",subActions:[],examine:"N",prompts:""},{id:"required-action-BSI",label:"Child2 of Child1 -level 2",feedbackAbsent:"absent -Child2 of Child1 -level 2",feedbackOutOfOrder:"late -Child2 of Child1 -level 2",feedbackErrors:"wrong -Child2 of Child1 -level 2",subActions:[],examine:"Y",prompts:"prompts -Child2 of Child1 -level2"}],examine:"Y",prompts:"prompts -Child1 level 1"},{id:"primary-survey",label:"Child 2 -level1",feedbackAbsent:"absent -Child 2 level1",feedbackOutOfOrder:"late -Child 2 level1",feedbackErrors:"wrong -Child 2 level1",subActions:[{id:"general-impression",label:"Child1 of Child2 -level2",feedbackAbsent:"absent -Child1 of Child2 -level2",feedbackOutOfOrder:"late -Child1 of Child2 -level2",feedbackErrors:"wrong -Child1 of Child2 -level2",subActions:[],examine:"N",prompts:""},{id:"airway",label:"Child2 of child2 -level2",feedbackAbsent:"absent -Child2 of Child2 -level2",feedbackOutOfOrder:"late -Child2 of Child2 -level2",feedbackErrors:"wrong -Child2 of Child2 -level2",subActions:[{id:"airway-is-open",label:"Child1 of (Child2 of Child2) -level3",feedbackAbsent:"absent -Child1 of (Child2 of Child2) -level3",feedbackOutOfOrder:"late -Child1 of (Child2 of Child2) -level3",feedbackErrors:"wrong -Child1 of (Child2 of Child2) -level3",subActions:[],examine:"N",prompts:""},{id:"airway-is-clear-substances",label:"Child2 of (Child2 of Child2) -level3",feedbackAbsent:"absent -Child2 of (Child2 of Child2) -level3",feedbackOutOfOrder:"late -Child2 of (Child2 of Child2) -level3",feedbackErrors:"wrong -Child2 of (Child2 of Child2) -level3",subActions:[],examine:"Y",prompts:"prompts -Child2 of (Child2 of Child2) -level3"}],examine:"N",prompts:""},{id:"breathing",label:"Child3 of Child2 -level2",feedbackAbsent:"absent -Child3 of Child2 -level2",feedbackOutOfOrder:"late -Child3 of Child2 -level2",feedbackErrors:"wrong -Child3 of Child2 -level2",subActions:[],examine:"N",prompts:""}],examine:"N",prompts:""},{id:"Manage a potential head and/or spinal injury",label:"Child 3 -level1",feedbackAbsent:"absent -Child 3 level1",feedbackOutOfOrder:"late -Child 3 level1",feedbackErrors:"wrong -Child 3 level1",subActions:[],examine:"N",prompts:""},{id:"ongoing-mgmt-plan",label:"Child 4 -level1",feedbackAbsent:"absent -Child 4 level1",feedbackOutOfOrder:"late -Child 4 level1",feedbackErrors:"wrong -Child 4 level1",subActions:[{id:"reassess-vital-signs",label:"Child1 of Child4 -level 2",feedbackAbsent:"absent -Child1 of Child4 -level2",feedbackOutOfOrder:"late -Child1 of Child4 -level2",feedbackErrors:"wrong -Child1 of Child4 -level2",subActions:[],examine:"Y",prompts:"prompts -Child1 of Child4 -level2"},{id:"repeat-primary-survey",label:"Child2 of Child4 -level 2",feedbackAbsent:"absent -Child2 of Child4 -level 2",feedbackOutOfOrder:"late -Child2 of Child4 -level 2",feedbackErrors:"wrong -Child2 of Child4 -level 2",subActions:[],examine:"N",prompts:""}],examine:"Y",prompts:"prompts -Child4 level1"}],examine:"N",prompts:""}};var ie=function(e,t){t.includes(e)||t.push(e)},oe=function(e){var t=[],n=[];e.forEach((function(e){ie(e,t)}));for(var r=0,i=Object.entries(J);r<i.length;r++){var o=Object(u.a)(i[r],2),s=o[0];0!==o[1].filter((function(e){return t.includes(e)})).length&&ie(s,n)}return 1===n.length?n[0]:"errors"},se=function(e){for(var t=[],n=0,r=Object.entries(Q);n<r.length;n++){var i=Object(u.a)(r[n],2),o=i[0];i[1][0]===e&&t.push(o)}return t},ae=function(e,t){var n="";if("header"===e.type?(n=Q[e.displayColor])||(n=Q[e.status]):n=Q[e.status]?Q[e.status]:Q.default,n)return n[t]},ce=function(e){return G[ae(e,0)]},le=function(e){if(e){var t,n=e.split(" "),r=n.length;n.forEach((function(e,t){var i=e.trim();"."===i[e.length-1]&&t<r-1&&(i+="\xa0\xa0"),n[t]=i}));var i,o=Object(z.a)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;t=t?t+" "+s:s}}catch(a){o.e(a)}finally{o.f()}return t}return""};function de(e,t){var n;switch(t){case"assessmentFB":case"incorrectAnswersFB":n="[To be retrieved from C2 DS]";break;default:e[t]&&(n=le(e[t]))}return n}var ue=function(e){e.intvStatus&&e.intvStatus.length>0&&(e.intvStatusFB=function(e){var t,n,r=[],i=[],o=Object(z.a)(e.intvStatus);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.foundCk?r.push(s.label):i.push(s.label)}}catch(a){o.e(a)}finally{o.f()}return i.length>0&&(t="Remember to check the effect of this action by asking for: "+i+".",r.length>0&&(t=t+" That is in addition to what you did ask for: "+r+".")),t}(e));var t,n,r=le(ae(e,1)).trim().split(" ");r.forEach((function(n,i){var o=n.charAt(0),s=n.substring(1);switch(r[i]=r[i].trim(),o){case"@":t=de(e,s),r[i]=t||"[missing: "+s+"]";break;case"?":(t=de(e,s))?r[i]=t:(r[i]="","+bos"===r[i-1]&&(r[i-1]="","."!==r[i-2][r[i-2].length-1]&&(r[i-2]=r[i-2]+".\xa0")),"+eos"===r[i+1]&&(r[i+1]=""))}})),r.forEach((function(e,t){var n="";switch(e.charAt(0)){case"+":switch(e.substring(1)){case"eos":"."===(n=r[t-1].trim())[n.length-1]&&(n=n.slice(0,-1)),r[t-1]=n+".\xa0",r[t]="";break;case"bos":"."===(n=r[t-1].trim())[n.length-1]&&(n=n.slice(0,-1)),r[t-1]=n+".\xa0",r[t]="";var i=r[t+1].trim();r[t+1]=i.charAt(0).toUpperCase()+i.slice(1)}}}));var i,o=Object(z.a)(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;n?""!==s&&(n=n+"\xa0"+s):""!==s&&(n=s)}}catch(a){o.e(a)}finally{o.f()}return n},he={},be=function(e,t,n){return e.filter((function(e){return e[t]===n}))},fe=function(e,t,n){return be(be(e,"timestamp",n),"id",t)},pe=n(34),me=function(e,t,n,r,i){console.log("In savingDebriefingLog");var o=O.collection("debriefing-feedback-logs").doc(e.id),s={userName:e.userName,ObserverFileCreater:e.userName,label:e.label,ObserverFileName:e.label,commenter:"",scenarioID:e.scenarioID,scenarioName:e.scenarioName,schemaVersion:e.schemaVersion,timestamp:Date().toLocaleString(),hierAssessResults:n,hierProblemResults:r,constraintsViolated:i},a=[],c={},l=!1;t.forEach((function(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var i=Object(u.a)(r[n],2),o=i[0],s=i[1];void 0===s&&(console.log("filtered out from events; index: ",t," key: ",o," value: ",s),l=!0)}})),l?(t.forEach((function(e,t){c=pe.pickBy(e,(function(e,t){return!(void 0===e)})),a.push(c)})),s.events=a):s.events=t,o.set(s)},ve=function(e){return"criticalActionHeader"===e.status?"":-1===e.timestamp?"\xa0\xa0":(t=e.timestamp,new Date(1e3*t).toISOString().substr(14,5));var t},Oe=function(e,t){return e.reduce((function(e,n){return Object(w.a)(Object(w.a)({},e),{},Object(q.a)({},n[t],(e[n[t]]||[]).concat(n)))}),{})},ge=function(e,t){return e.checkListMetaData.filter((function(e){return e.type===t}))},je=[],ye=[],we=function(e,t,n,r){var i=Ce(e,t);if(i){var o=[i],s=[],a=[];if(r){var c;if(2===n&&(c=t.filter((function(t){return t.inPhase===e&&"header"!==t.type}))),1===n){c=t.filter((function(e){return e.phaseID===i.id&&"header"===e.type&&"assessmentSubHeader"===e.subtype}));var l,d=Object(z.a)(c);try{for(d.s();!(l=d.n()).done;){var u=l.value;s.includes(u.id)||(s.push(u.id),a.push(u))}}catch(h){d.e(h)}finally{d.f()}c=a}o=o.concat(c)}return o}return!1},Ce=function(e,t){var n,r="unk",i=[],o=t.filter((function(t){return"header"===t.type&&t.id===e})),s=o[0],a=Object(z.a)(o);try{for(a.s();!(n=a.n()).done;){var c=n.value;ie(c.status,i)}}catch(l){a.e(l)}finally{a.f()}return i.length>0&&(r=1===i.length?i[0]:"errors"),s&&(s.status=r),s};function Pe(e){if(["irrelevant","unnecessary"].includes(e.status))return{};var t={};return e.labelID?t.id=e.labelID:t.id=e.id,"header"===e.type&&(t.subtype=e.id),e.expertPhase&&(t.inPhase=e.expertPhase),["label","status","phaseOrderStatus","phase","subPhase","labelID","phaseID","probLabel","answerCorrect","answerDetails","timestamp","type"].forEach((function(n){e[n]&&(t[n]=e[n])})),X.good.includes(t.status)&&(t.status="good"),X.absent.includes(t.status)&&(t.status="absent"),t}var Ee,xe,ke=function(e,t,n,r,i){je=[],ye=[];var o={},s={};e.forEach((function(e){"intervention"!==e.type&&"answer"!==e.type?je.push(Pe(e)):ye.push(Pe(e))})),t.forEach((function(e){var t=ye.filter((function(t){return t.probLabel===e.probLabel&&"header"!==t.type})),n=t.map((function(e){return e.status})),r=oe(n),i={id:e.probLabel,probLabel:e.probLabel,status:r,phaseOrderStatus:"good",subtype:"interventionHeader",type:"header"};t&&(s[e.probLabel]=[i].concat(t))}));var a,c,l,d=n,h=r.filter((function(e){return!d.includes(e)}));d.forEach((function(e){var t=we(e,je,2,!0);t&&(o[e]=t)})),h.forEach((function(e){var t=we(e,je,1,!0);t&&(o[e]=t)}));var b=Object(w.a)(Object(w.a)({},o),s);return i.forEach((function(t){"header"===(c=e.filter((function(e){return!!e.labelID&&e.labelID===t.arg1.id||e.id===t.arg1.id}))[0]).type?(l=b[c.labelID],a=l[0]):(l="intervention"===c.type?b[c.probLabel]:b[c.workingPhase],a=l.filter((function(e){return e.id===t.arg1.id}))[0]),a&&("phase"===t.type?(a.phaseOrderStatus="misOrdered",a.arg2?a.arg2=a.arg2.concat([t.arg2.id]):a.arg2=[t.arg2.id]):a.arg2?a.arg2=a.arg2.concat([t.arg2.id]):a.arg2=[t.arg2.id])})),function(e){for(var t,n=["good"],r=0,i=Object.entries(e);r<i.length;r++){var o=Object(u.a)(i[r],2),s=(o[0],o[1]);if("assessmentHeader"===s[0].subtype&&"good"===s[0].status){var a,c=Object(z.a)(s.slice(1));try{for(c.s();!(a=c.n()).done;){var l=a.value;l.phaseOrderStatus&&ie(l.phaseOrderStatus,n)}}catch(d){c.e(d)}finally{c.f()}(t=1===n.length?n[0]:"errors")&&(s[0].status=t)}}}(o),console.log("top-level-analysis: ",function(e,t){var n,r,i={},o=[],s=[],a=Object(w.a)(Object(w.a)({},e),t),c={id:"top",probLabel:"top",status:"",phaseOrderStatus:"good",type:"header"};o.push(c),Ee.forEach((function(e){(r=a[e])&&(i[e]=r,ie(r[0].status,s),o.push(r[0]))})),n=1===s.length?s[0]:"errors";return o[0].status=n,xe.forEach((function(e){(r=a[e])&&(i[e]=r)})),i.top=o,i}(o,s)),[o,s]},De={M2CA:re,SC8CP:re};var Se,Ie,Ae,Ne,Te,Fe,Re,Be,Le,qe,Me=se("Problem"),_e=se("Caution"),We={};function He(e){Re=e,function(e){var t=te[e];he=$;for(var n=0,r=Object.entries(ee);n<r.length;n++){var i=Object(u.a)(r[n],2),o=i[0],s=i[1];t.includes(s.id)&&(he[o]=s)}}(e.name),function(e){Ee=[],xe=[];var t,n=De[e.name].Action,r=Object(z.a)(n.subActions);try{for(r.s();!(t=r.n()).done;){var i=t.value;Ee.push(i.id);var o,s=Object(z.a)(i.subActions);try{for(s.s();!(o=s.n()).done;){var a=o.value;0!==a.subActions.length&&xe.push(a.id)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}console.log("top:",Ee,"level2:",xe)}(e),Be=Ue(e),Le=Ye(e),Te=ge(e,N.PHASE).map((function(e){return e.id})).concat(["Unknown"]),Ne=ge(e,N.SUB_PHASE).map((function(e){return e.id})),qe=function(e){var t=ge(e,N.PHASE),n=ge(e,N.SUB_PHASE),r=e.checkListMetaData.filter((function(e){return F.includes(e.type)})),i=e.checkListMetaData.filter((function(e){return R.includes(e.type)})),o=Oe(i,"parentID");r.forEach((function(e){e.id in o&&(e.options=o[e.id])}));var s=Oe(r.filter((function(e){return void 0===e.subPhase})),"phase"),a=Oe(r.filter((function(e){return!!e.subPhase})),"subPhase");n.forEach((function(e){e.items=a[e.id]}));var c=Oe(n,"phase");return t.forEach((function(e){e.id in s?e.items=s[e.id]:e.subPhases=c[e.id]})),t}(e),Fe=Ve(qe),qe.forEach((function(e){void 0===e.subPhases?We[e.id]=e.label:e.subPhases.forEach((function(t){We[t.id]=e.label}))})),We.Unknown="Unknown",Se={},Ie={},Ae=[]}var Ue=function(e){var t,n=Oe(e.checkListMetaData.filter((function(e){return B.includes(e.type)})),"id");return t=e.interventions?Oe(e.interventions,"id"):Oe(e.intvMetaData.filter((function(e){return B.includes(e.type)})),"id"),Object.assign(n,t)},Ye=function(e){var t,n=Oe(e.checkListMetaData.filter((function(e){return B.includes(e.type)})),"label");return t=e.interventions?Oe(e.interventions,"label"):Oe(e.intvMetaData.filter((function(e){return B.includes(e.type)})),"label"),Object.assign(n,t)},Ve=function(e){var t=[];return e.forEach((function(e){if(e.subPhases){var n=e.subPhases.map((function(e){return e.id}));t=t.concat(n)}else t=t.concat(e.id)})),t},ze=function(e,t,n,r){for(var i=void 0,o=void 0,s=0;s<e.length&&(n.id!==e[s]||(i=t[s],"start"!==r));s++);return i&&(o=-1===i.numericalID?"start"===r?i.numericalIDStart:i.numericalIDEnd:i.numericalID),o},Ge={id:"Unknown",label:"Unknown"},Ke=function(e){if("Unknown"===e)return Ge;var t=Be[e];return t||(t=Le[e]),t?t[0]:void 0},Qe=function(e,t,n){for(var r=0;r<n.length;r++){var i=t[r],o=n[r];if(i.length>0&&!it(o)){var s,a=Object(z.a)(i);try{for(a.s();!(s=a.n()).done;){var c=s.value;if(c.numericalID===e)return c}}catch(l){a.e(l)}finally{a.f()}}}},Je=function(e,t,n,r){var i=Qe(e,n,r);i?i.arg2?i.arg2=i.arg2.concat([t.id]):i.arg2=[t.id]:console.log("no object found for numericalID = ",e)},Xe=function(e,t,n){var r;return r=["phase","sub-phase"].includes(e.type)?"phase":"item",Ae.push({constraintID:n,arg1:e,op:"before",arg2:t,type:r}),r},Ze=function(e,t,n,r){return r&&(e+=t?" and ":", "),e+=n.toLowerCase()},$e=function(e,t,n,r,i,o,s,a,c){var l,d=ze(o,s,e,"end"),u=ze(o,s,e,"start"),h=e.label,b="",f="",p="";if(t.length>0){var m,v=0,O=0,g=Object(z.a)(t);try{for(g.s();!(m=g.n()).done;){var j=m.value,y=!1,w=Ke(j);if(w){++v===t.length&&(y=!0);var C=w.label,P=ze(o,s,w,"start"),E=ze(o,s,w,"end");switch(r){case"before":if(d&&P)if(d<P){if("or"===n)return}else O++,""===f&&(f=Ze(f=u===d?"You should have done ":"You should have completed ",y,h,!1)),P===E?(""===p&&(p+=" before you did "),p=Ze(p,y,C,O>1)):(""===p&&(p+=" before starting "),p=Ze(p,y,C,O>1)),Je(u,w,a,c),l=Xe(e,w,i);break;case"after":if(u&&E)if(u>E){if("or"===n)return}else O++,u===d?(""===f&&(f="You should have done "),f=Ze(f,y,C,O>1)):(""===f&&(f="You should have completed "),f=Ze(f,y,C,O>1)),""===p&&(p=Ze(p+=P===E?" before you did ":" before starting ",y,h,!1)),Je(P,e,a,c),l=Xe(w,e,i)}}}}catch(x){g.e(x)}finally{g.f()}""!==(b=f+p)&&function(e,t,n,r,i){var o=Qe(e,r,i);if(o){var s;""!==o.orderingFB?o.orderingFB=o.orderingFB+".\xa0\xa0"+t:o.orderingFB=t;var a="";"phase"===n&&(a="misOrdered-phase-"),"item"===n&&(a="misOrdered-"),o.status.includes(a)||(s=a+o.status,o.status=s)}else console.log("no object found for numericalID = ",e)}(u,b,l,a,c)}},et=function(e,t){var n=function(e,t){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var s=e[o],a=t[o],c=s[0].numericalID,l=s[s.length-1].numericalID;if((Te.includes(a)||Ne.includes(a))&&(r.push({id:a,numericalID:-1,numericalIDStart:c,numericalIDEnd:l}),n.push(a),i.includes(a)||i.push(a)),s.length>0&&!it(a)){var d=s.map((function(e){return e.id}));r=r.concat(s),i=i.concat(d),n=n.concat(d)}}return[n,i,r]}(e,t),r=n[0],i=n[1],o=n[2];return i.forEach((function(n){var i=Ke(n);if(i){var s=function(e){var t=e.id,n=e.label,r=he[t];return r||(r=he[n]),r}(i);s&&function(e,t,n,r,i,o){var s=t.before,a=t.beforeOp;$e(e,s,a,"before",t.id,i,o,n,r),s=t.after,a=t.afterOp,$e(e,s,a,"after",t.id,i,o,n,r)}(i,s,e,t,r,o)}})),[e,t]},tt=function(e,t,n,r){var i;i=n.when;var o=e.lastIndexOf(i),s=t[o];s||(s=[]),s.splice(r-1,0,n),t[o]=s},nt=function(e,t){var n=function(e,t){var n,r,i=rt(e),o=Object(L.a)(i).reverse(),s=Object(z.a)(o);try{var a=function(){var e=r.value;if(n=t.find((function(t){return t===e.id})))return"break"};for(s.s();!(r=s.n()).done&&"break"!==a(););}catch(c){s.e(c)}finally{s.f()}return n}(e,t);return t.lastIndexOf(n)},rt=function(e){return qe.find((function(t){return t.id===e})).subPhases},it=function(e){var t=qe.find((function(t){return t.id===e}));return!(!t||!t.subPhases)},ot=function(e,t){var n=t;return"red"===e&&(n="red"),"yellow"===e&&"red"!==n&&(n="yellow"),n},st=function(e,t,n){var r=void 0;return void 0===(r=n?Re.associations[e]:Re.checkListCorrectness[e])?(console.log("didn't find answers for ",e),!1):Array.isArray(r)?!r.find((function(e){return e===t})):!(r===t)},at=function(e,t){var n,r;t?(n=Re.associations[e],r=Re.intvMetaData):(n=Re.checkListCorrectness[e],r=Re.checkListMetaData);var i=!1;return Array.isArray(n)?n.forEach((function(e,t){r.forEach((function(t,n){t.id!==e||(!1===i?i=t.label:i+=", ")}))})):r.forEach((function(e,t){e.id===n&&(i=e.label)})),i},ct=function(e,t){var n;n=t?Re.intvMetaData:Re.checkListMetaData;var r="";return n.forEach((function(t,n){t.id===e&&(r=t.label)})),r||!1},lt=function(e,t,n,r,i){return e.forEach((function(e){var o,s=e.solutions;for(var a in s){o=s[a];break}var c=o.actions;e.actions=c,c.forEach((function(s,a){if(!t.includes(s.id+"+"+e.probLabel)){t.push(s.id+"+"+e.probLabel);var l={comment:"",numericalID:n,status:"",intvStatus:[],required:!0,when:"",suggestedPhase:"",expertPhase:"",probLabel:"",minimalWhy:"",assessmentsNeeded:"",protocol:"",protocolRelationship:"",actionDescription:"",type:"intervention",timestamp:-1};["id","phase","why","protocolRelationship"].forEach((function(e){s[e]&&(l[e]=s[e])}));["minimalWhy","protocols","strictActionOrdering"].forEach((function(e){o[e]&&(l[e]=o[e])}));var d;["probLabel"].forEach((function(t){e[t]&&(l[t]=e[t])})),e.assessments&&(l.assessmentsNeeded=e.assessments),e.protocols&&(l.protocol=e.protocols),s["id-label"]&&(l.label=s["id-label"]),s["id-label"]&&(l.actionDescription=s["id-label"]),s.subPhase&&(d=s.subPhase),s.phase&&!d&&(d=s.phase),d&&(l.when=d,l.expertPhase=d,l.suggestedPhase=d),l.status="missing"+((u=l.protocolRelationship).charAt(0).toUpperCase()+u.slice(1)),["optional","unnecessary","irrelevant"].includes(l.protocolRelationship)||(!function(e,t,n,r,i){var o=-1;""===n.expertPhase&&(n.expertPhase=Te[Te.length-2]),o=Ne.includes(n.expertPhase)||!rt(n.expertPhase)?e.lastIndexOf(n.expertPhase):nt(n.expertPhase,e),n.when=e[o];var s=r.slice(0,i-1),a=r[i-1],c=Object(L.a)(s).reverse().find((function(e){return e.required})),l=r[i+1],d=r.slice(i+1).find((function(e){return e.required})),u=Object(L.a)(t[o]),h=-1,b=-1,f=-1,p=-1,m=!1;a&&(h=u.findIndex((function(e){return e.id===a.id}))),l&&(b=u.findIndex((function(e){return e.id===l.id}))),c&&(f=u.findIndex((function(e){return e.id===c.id}))),d&&(p=u.findIndex((function(e){return e.id===d.id}))),l&&(b=u.findIndex((function(e){return e.id===l.id}))),-1!==f&&(m=f+2,h>f&&(m=h+2)),m||-1===p||(m=p+1,b<p&&(m=b+1)),m||-1===h||(m=h+2),m||-1===b||(m=b+1),m||(m=u.length+2),tt(e,t,n,m)}(r,i,l,c,a),n++)}var u}))})),[n,r,i]};function dt(e,t){var n=t.events;console.log("in analyzeEvents"),He(e);var r=Re.problems,i=Re.actions,o=function(e,t,n){var r,i=[],o=Object(z.a)(e);try{var s=function(){var e=r.value,o={};if(t&&n){var s=e.solutions,a=t.filter((function(t){return t.problemID===e.id}));o.probLabel=e.label,o.id=e.id,o.lifeThreat=e.lifeThreat,o.vitals=e.vitals,o.allActions=[],o.allContras=[];var c=e.assessments;o.assessments=c.map((function(e){return e.assessmentID})),o.solutions=[];var l,d=Object(z.a)(s);try{var u=function(){var e=l.value,t=a.filter((function(t){return t.id===e}))[0],r=Object.assign({},t);r.actions=[],r.otherActions=[];var i,s=t.actions;i=n.filter((function(e){return s.includes(e.id)}));var c,d=Object(z.a)(i);try{for(d.s();!(c=d.n()).done;){var u=c.value,h=Object.assign({},u);h.id=h.interventionID;var b=Be[h.id];switch(h.probLabel=o.probLabel,h["id-label"]=b?b[0].label:h.id,h.protocolRelationship){case"contraindicated":case"irrelevant":case"unnecessary":r.otherActions.push(h),ie(h,o.allContras);break;case"required":case"minimal":case"optional":r.actions.push(h),ie(h,o.allActions)}}}catch(f){d.e(f)}finally{d.f()}o.solutions.push(r)};for(d.s();!(l=d.n()).done;)u()}catch(f){d.e(f)}finally{d.f()}}else{var h=e.solutions[0],b=Object.assign({});o.probLabel=e.problem,o.lifeThreat=e.lifeThreat,o.allActions=[],o.allContras=[],b.actions=h.actions,b.minimalWhy=h.minimalWhy,b.protocols=h.protocols,o.assessments=e.assessments,o.solutions=[],b.otherActions=h.contraindications,b.actions.forEach((function(e){ie(e,o.allActions),e.probLabel=o.probLabel,e.minimal&&(e.protocolRelationship="minimal"),e.optional&&(e.protocolRelationship="optional"),e.minimal||e.optional||(e.protocolRelationship="required")})),b.otherActions.forEach((function(e){ie(e,o.allContras),e.protocolRelationship="contraindicated"})),o.solutions.push(b),o.allProblemProtocols=e.protocol}i.push(o)};for(o.s();!(r=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}return i}(r,Re.solutions,i),s=[],a=function(e,t){var n=[],r=[],i=[],o=[],s=[],a={},c="",l="",d=0,u=0,h=!0,b=["assessment","required-action","decision-option","assessment-option"];return e.forEach((function(e,f){var p={comment:"",numericalID:f,status:"",intvStatus:[],contraindicatedWhy:"",minimalWhy:"",why:"",answerCorrect:!0,answerDetails:{},expertPhase:"",workingPhase:"",suggestedPhase:"",protocol:"",protocolRelationship:"",probLabel:"",solutionIds:[],assessments:"",required:!1,actionDescription:"",assessmentFB:"",incorrectAnswersFB:"",orderingFB:"",processingState:"good"};["id","label","finding","phase","subPhase","vitalType","vital","value","type","prompt","promptID","intervention","timestamp","probLabel"].forEach((function(t){e[t]&&(p[t]=e[t])})),e.label&&(p.actionDescription=e.label),e.type&&(p.status=e.type),e.subPhase?p.workingPhase=e.subPhase:e.phase&&(p.workingPhase=e.phase),p.expertPhase=p.workingPhase,c===p.workingPhase&&l===p.phase||(""!==c&&b.includes(p.type)?(h=!0,o[u]=s,u!==d&&(o[d]=o[d].concat(s)),u++,p.phase!==l&&(l=p.phase,d=u,p.phase!==p.workingPhase&&(o[d]=[],i[d]=l,u++))):""===c&&b.includes(p.type)?(l=p.phase)!==p.workingPhase&&(l=p.phase,i[d]=l,u++):""===c?(l="Unknown",p.workingPhase=l,p.phase=l,p.subPhase=""):h=!1,h?(c=p.workingPhase,s=[],i[u]=c,o[u]=[]):h=!0);var m=p.type;["assessment","required-action","intervention","answer","obtain-vital-sign","decision-option","assessment-option"].includes(m)||(p.processingState="bad");var v=[];if("answer"===m){var O=at(e.promptID,!0),g=ct(e.id,!0);if(O){var j=st(e.promptID,e.id,!0),y={correctAnswer:O,givenAnswer:g,correct:!j};n.includes(p.intervention)?(v=s.pop(),n.pop(),p.answerCorrect=v.answerCorrect,p.answerDetails=v.answerDetails,p.actionDescription=v.actionDescription+", "+g,j?(p.answerCorrect=!1,""===v.incorrectAnswersFB?p.incorrectAnswersFB="You should have responded: "+O:p.incorrectAnswersFB=v.incorrectAnswersFB+", and "+O):(p.incorrectAnswersFB=v.incorrectAnswersFB,p.answerCorrect=v.answerCorrect)):(j?(p.answerCorrect=!1,p.incorrectAnswersFB="You should have responded: "+O):p.incorrectAnswersFB="",n.push(p.intervention)),p.answerDetails[e.promptID]=y}else p.processingState="bad"}if("intervention"===m&&(v=s.slice(-1)[0])&&"answer"===v.type&&(v.intervention===p.id?(v=s.pop(),n.pop(),n.pop(),p.answerCorrect=v.answerCorrect,p.answerDetails=v.answerDetails,p.incorrectAnswersFB=v.incorrectAnswersFB,p.actionDescription=p.actionDescription+".\xa0\xa0"+v.actionDescription):(v=s.pop(),n.pop(),n.pop())),"good"===p.processingState){if("obtain-vital-sign"===p.type){var w=p.vital,C="";C="intervention-status"===p.vitalType?r.includes(w)?"intv":"noIntv":"vital";var P=a[w];switch(C){case"intv":p.status="patientIntvCheck",P&&P.timestamp<p.timestamp&&(P.foundCk=!0,a[w]=P);break;case"noIntv":p.status="intvCheckWNoIntvFound";break;case"vital":p.status="patientVitalCheck",P&&(P=function(e,t){var n=[];return e.forEach((function(e){e.timestamp<t&&(e.foundCk=!0),n.push(e)})),n}(P,p.timestamp),a[w]=P);break;default:p.status="unexpectedPatientIntvCheck"}}"intervention"===p.type&&t.forEach((function(e,t){var n,r,i=["why","probLabel","protocolRelationship","probLabel"];null===(n=e.allActions)||void 0===n||n.forEach((function(t,n){if(t.id===p.id){var r,o=p.id;if((r=ne[p.label])||(r=ne[p.id]),r){var s={intervention:o,timestamp:p.timestamp,foundCk:!1};r.intvStatusNeeded&&(a[o]=Object.assign({},s)),r.vitalsNeeded.forEach((function(e){a[e]?a[e].push(Object.assign({},s)):a[e]=[Object.assign({},s)]}))}t.assessments&&(p.assessmentsNeeded=t.assessments),t.phase&&(p.when=t.phase,p.suggestedPhase=t.phase),e.protocols&&(p.protocol=e.protocols),p.answerCorrect?p.status="goodIntv":p.status="incorrect-answers",i.forEach((function(e){t[e]&&(p[e]=t[e])})),t["id-label"]&&(p.label=t["id-label"])}})),null===(r=e.allContras)||void 0===r||r.forEach((function(t,n){t.id===p.id&&(p.status=e.protocolRelationship,i.forEach((function(e){t[e]&&(p[e]=t[e])})),e.probLabel&&(p.probLabel=e.probLabel))}))})),"decision-option"===p.type&&st(e.promptID,e.id,!1)&&(p.status="decision-option-incorrect",p.answerCorrect=!1,p.incorrectAnswerFB="You should have responded "+at(e.promptID,!1)),"assessment-option"===p.type&&st(e.promptID,e.id,!1)&&(p.status="assessment-option-incorrect",p.answerCorrect=!1,p.incorrectAnswerFB="You should have responded "+at(e.promptID,!1)),"intervention"===p.type?(n.push(p.id+"+"+p.probLabel),r.push(p.id)):n.push(p.id),s.push(p)}})),o[u]=s,u!==d&&(o[d]=o[d].concat(s)),[o,i,n,a]}(n,o),c=a[0],l=a[1],d=a[2],h=a[3],b=et(c,l),f=function(e,t){var n;return Fe.forEach((function(r,i){if(!t.includes(r)){var o=0;(n=0===i?Fe[0]:Fe[i-1])!==r&&(o=t.lastIndexOf(n),o+=1),t.splice(o,0,r),e.splice(o,0,[])}})),[e,t]}(c=b[0],l=b[1]);c=f[0],l=f[1];var p=function(e,t,n,r,i){var o,s=function(e){var t=[];return e.forEach((function(e){""!==e.assessments&&(t=t.concat(e.assessments))})),t}(e),a=t.length,c=Re.checkListMetaData.filter((function(e){return[N.ASSESS,N.REQUIRED].includes(e.type)})),l=[],d=Object(z.a)(Z);try{for(d.s();!(o=d.n()).done;){var u=o.value;if(u.scenarioName===Re.name){l=u.exceptions;break}}}catch(h){d.e(h)}finally{d.f()}return l.forEach((function(e,t){c=c.filter((function(t){return t.id!==e[0]})),n.includes(e[0])&&i.forEach((function(t,n){t.forEach((function(t,n){t.id===e[0]&&(t.why=e[1],t.status="notNecessary")}))}))})),c.forEach((function(e,t){if(!n.includes(e.id)){n.push(e.id);var o={comment:"",numericalID:a,status:"missingRequiredAssessment",intvStatus:[],expertPhase:"",workingPhase:"",contraindicatedWhy:"",minimalWhy:"",why:"",probLabel:"",protocol:"",actionDescription:"",assessmentFB:"",timestamp:-1};["id","label","finding","phase","subPhase","type","prompt"].forEach((function(t){e[t]&&(o[t]=e[t])})),e.subPhase?o.workingPhase=e.subPhase:e.phase&&(o.workingPhase=e.phase),o.when=o.workingPhase,o.expertPhase=o.workingPhase,o.label&&(o.actionDescription=o.label),s.includes(e.id)&&(o.assessmentFB="Thus you missed finding: "+Re.assessmentFindings[e.id]),"required-action"===o.type&&(o.status="missingRequiredAssessment"),tt(r,i,o,t),a++}})),[n,r,i,a]}(o,n,d,l,c);d=p[0],l=p[1],c=p[2];var m=p[3],v=lt(o,d,m,l,c);m=v[0],l=v[1],c=v[2],s=function(e,t){for(var n,r=0,i=Object.entries(t);r<i.length;r++){var o=Object(u.a)(i[r],2),s=o[0],a=o[1];if(Array.isArray(a)){var c,l=Object(z.a)(a);try{for(l.s();!(c=l.n()).done;){var d=c.value,h={label:s,foundCk:d.foundCk};n=fe(e,d.intervention,d.timestamp);var b,f=Object(z.a)(n);try{for(f.s();!(b=f.n()).done;){var p=b.value;p.intvStatus.includes(h)||p.intvStatus.push(h)}}catch(m){f.e(m)}finally{f.f()}}}catch(m){l.e(m)}finally{l.f()}}else!function(){var t={label:"intervention status",foundCk:a.foundCk};(n=fe(e,s,a.timestamp)).forEach((function(e){e.intvStatus.includes(t)||e.intvStatus.push(t)}))}()}return e}(s=function(e,t){for(var n=[],r=1,i=1,o="green",s="green",a=[],c=[],l=[],d={id:"assessmentHeader",status:"",phaseOrderStatus:"good",type:"header",numericalID:1,displayColor:"",why:"",label:"",labelID:"",protocol:""},u={id:"assessmentSubHeader",status:"",phaseOrderStatus:"good",type:"header",numericalID:1,displayColor:"",why:"",label:"",labelID:"",phaseID:"",protocol:""},h="",b=!1,f=0;f<e.length;f++){var p=t[f],m=e[f],v=!0;if(Te.includes(m)&&it(m)&&(v=!1),p.length>0&&v){var O=t[f];s="green";var g,j=Object(z.a)(O);try{for(j.s();!(g=j.n()).done;){var y=g.value;"intervention"!==y.type&&a.push(y.status),Me.includes(y.status)&&(s="red"),_e.includes(y.status)&&"red"!==s&&(s="yellow"),y.numericalID=r++}}catch(F){j.e(F)}finally{j.f()}var w=Object.assign({},u),C=e[f],P=Ke(C);w.label=P.label,w.labelID=P.id,w.status=oe(a),w.displayColor=s;var E=We[C],x=Ke(E);if(w.phaseID=x.id,""===h&&(h=x,o=ot(s,o)),f===e.length-1){var k=Object.assign({},d);E!==h.label&&(k.label=h.label,k.labelID=h.id,k.status=oe(c),k.displayColor=o,k.numericalID=i++/1e3,n.push(k),n.push.apply(n,Object(L.a)(l)),l=[]),(k=Object.assign({},w)).label=x.label,k.labelID=x.id,k.id="assessmentHeader",k.numericalID=i++/1e3,n.push(k),E===w.label?(n.push.apply(n,Object(L.a)(l)),n.push.apply(n,Object(L.a)(O))):(w.numericalID=i++/1e3,n.push.apply(n,Object(L.a)(l)),n.push(w),n.push.apply(n,Object(L.a)(O))),b=!0}if(!b)if(E!==h.label){var D,S,I=Object.assign({},d);I.label=h.label,I.labelID=h.id,I.status=oe(c),c=[],I.displayColor=o,I.numericalID=i++/1e3,n.push(I),n.push.apply(n,Object(L.a)(l)),(D=c).push.apply(D,Object(L.a)(a)),a=[],E===w.label?l=Object(L.a)(O):(w.numericalID=i++/1e3,(S=l=[w]).push.apply(S,Object(L.a)(O))),h=x,o=ot(s,"green")}else{var A,N,T;o=ot(s,o),(A=c).push.apply(A,Object(L.a)(a)),a=[],E===w.label?(N=l).push.apply(N,Object(L.a)(O)):(w.numericalID=i++/1e3,l.push(w),(T=l).push.apply(T,Object(L.a)(O)))}}}return n}(l,c),h);var O=[];s.forEach((function(e,t){O.push(e)}));var g=[],j=[],y=0,w=-1;O.forEach((function(e,t){if("intervention"===e.type&&e.status&&e.status.includes("goodintv","incorrect-answers","minimal","misOrdered-goodintv","misOrdered-incorrect-answers","misOrdered-incorrect-answers","minimal","misOrdered-minimal","misOrdered-minimal-incorrect-answers","misOrdered-phase-incorrect-answers","misOrdered-phase-minimal-incorrect-answers","misOrdered-phase-minimal")){j.includes(e.probLabel)?w=j.indexOf(e.probLabel):(j[w=y]=e.probLabel,y++);var n=g[w];n||(n=[]),n.push(e),g[w]=n}}));var C=s.map((function(e){return e.id})),P=o.map((function(e){return e.probLabel}));j.forEach((function(e,t){var n=P.indexOf(e),r=o[n],i=r.actions.filter((function(e){return"required"===e.protocolRelationship})).map((function(e){return e.id})),a=r.actions.filter((function(e){return"minimal"===e.protocolRelationship})).map((function(e){return e.id}));if(a){var c,l=g[t].map((function(e){return e.id})),d=!0,u=!0,h=Object(z.a)(i);try{for(h.s();!(c=h.n()).done;){var b=c.value;if(!l.includes(b)){d=!1;break}}}catch(j){h.e(j)}finally{h.f()}var f,p=Object(z.a)(a);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(!l.includes(m)){u=!1;break}}}catch(j){p.e(j)}finally{p.f()}var v=[];if(!d&&u){a.forEach((function(e,t){var n=C.indexOf(e),i=s[n];switch(i.minimalWhy=r.minimalWhy,i.status){case"incorrect-answers":i.status="minimal-incorrect-answers";break;case"goodintv":i.status="minimal";break;case"misOrdered-goodintv":i.status="misOrdered-minimal";break;case"misOrdered-incorrect-answers":i.status="misOrdered-minimal-incorrect-answers";break;case"misOrdered-phase-goodintv":i.status="misOrdered-phase-minimal";break;case"misOrdered-phase-incorrect-answers":i.status="misOrdered-phase-minimal-incorrect-answers"}v.push(i.numericalID),s[n]=i}));var O={};v.forEach((function(e,t){(O=function(e,t){var n,r={},i={},o=Object(z.a)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("problemHeader"===s.id)r=s;else if(s.numericalID===e){i=r;break}}}catch(j){o.e(j)}finally{o.f()}return i}(e,s))&&"green"===O.displayColor&&(O.displayColor="yellow")}))}}r.actions=[]}));var E=ke(O,o,Fe,Te,Ae);return Se=E[0],Ie=E[1],console.log("Phase Assessment Status Results",Se),console.log("Intervention Status Results",Ie),console.log("Constraint Violation Results",Ae),me(t,O,Se,Ie,Ae),O}var ut=n(67),ht=n(63),bt=n(64),ft=n(65),pt=n(66),mt=function(e){var t=e.title,n=e.leftNav,r=void 0===n?null:n,o=e.rightNav,s=void 0===o?null:o,a=Object(i.useContext)(d.AuthContext),c=a.isAuthenticated,l=a.userName,u=a.signOutUser;return Object(Y.jsxs)(ht.a,{color:"dark",dark:!0,children:[Object(Y.jsx)(bt.a,{href:"#",children:"MedDBriefer"}),!!r&&Object(Y.jsx)(ft.a,{children:r}),!!t&&Object(Y.jsx)(pt.a,{tag:"h3",children:t}),Object(Y.jsxs)(ft.a,{children:[c&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(pt.a,{children:["Welcome, ",l," \xa0"]}),Object(Y.jsx)(ut.a,{color:"danger",onClick:u,children:"Sign Out"})]}),!!s&&s]})]})},vt=function(e){var t=e.log,n=e.actions,r=e.scenario,o=e.context,s=Object(i.useState)(!1),a=Object(u.a)(s,2),c=a[0],l=a[1],d=Object(i.useState)(void 0),h=Object(u.a)(d,2),b=h[0],f=h[1];function p(e){return Object(Y.jsx)(Y.Fragment,{children:"obtain-vital-sign"===e.type?v(e):O(e)})}function m(e){var t=r.intvMetaData.find((function(t){return e.vital===t.id}));return Object(Y.jsx)(Y.Fragment,{children:t.label})}function v(e){return Object(Y.jsx)(Y.Fragment,{children:"intervention-status"===e.vitalType?Object(Y.jsxs)(Y.Fragment,{children:["Requested intervention status for: ",m(e),", ",Object(Y.jsxs)("p",{children:["Found: ",Object(Y.jsx)("i",{children:e.value})]})]}):Object(Y.jsxs)(Y.Fragment,{children:["Requested vital: ",e.vital,", ",Object(Y.jsxs)("p",{children:["Found: ",Object(Y.jsx)("i",{children:e.value})]})]})})}function O(e){return Object(Y.jsx)(Y.Fragment,{children:e.subPhase&&"intervention"!==e.type?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("b",{children:[e.subPhase,":"]})," ",e.actionDescription,".  ",w(e)]}):Object(Y.jsx)(Y.Fragment,{children:g(e)})})}function g(e){return Object(Y.jsx)(Y.Fragment,{children:"intervention"===e.type?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("b",{children:"Intervention:"})," ",e.actionDescription,". ",w(e)," "]}):Object(Y.jsxs)(Y.Fragment,{children:[e.actionDescription,".  ",w(e)]})})}function w(e){return Object(Y.jsx)(Y.Fragment,{children:e.finding?Object(Y.jsxs)("p",{children:["\xa0\xa0\xa0\xa0\xa0Findings: ",Object(Y.jsx)("i",{children:e.finding})]}):Object(Y.jsx)(Y.Fragment,{})})}function C(e){var t=e.target.defaultValue,n=e.target.value,r=e.target.id;if(t!==n){var i=b.find((function(e){return e.id===r})),o=Object.assign({},i,{comment:n});E(o)}}var P=function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("td",{children:e.numericalID}),Object(Y.jsx)("td",{children:ve(e)}),Object(Y.jsxs)("td",{className:ce(e),children:[Object(Y.jsx)("span",{className:"material-icons-outlined",children:(t=e,K[ae(t,0)])}),p(e)]}),Object(Y.jsx)("td",{children:ue(e)}),c&&Object(Y.jsx)("td",{children:Object(Y.jsx)("textarea",{rows:"2",cols:"50",defaultValue:e.comment,onBlur:C,id:"".concat(e.id)})})]});var t},E=function(e){var t=b.findIndex((function(t){return t.id===e.id}));f([].concat(Object(L.a)(b.slice(0,t)),[e],Object(L.a)(b.slice(t+1))))};function x(){return(x=Object(y.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("review"===o),f(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]),void 0===b?Object(Y.jsx)("h3",{children:"processing"}):Object(Y.jsxs)(Y.Fragment,{children:["review"===o?Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(mt,{title:"Review of: ".concat(t.label),leftNav:Object(Y.jsx)(ut.a,{color:"primary",onClick:function(){me(t,b)},children:"Save Debriefing Log"}),rightNav:Object(Y.jsx)(ut.a,{color:"primary",onClick:function(){l(!c)},children:"Toggle Comments"})})}):Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(mt,{title:"Analysis for: ".concat(t.label)})}),Object(Y.jsx)("form",{children:Object(Y.jsx)("div",{style:{overflowY:"auto",maxHeight:"700px"},children:Object(Y.jsxs)(U.a,{borderless:!0,size:"sm",children:[Object(Y.jsx)("thead",{children:Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("th",{className:"table-header",children:" ID "}),Object(Y.jsx)("th",{className:"table-header",children:" Timestamp "}),Object(Y.jsx)("th",{className:"table-header",children:" Action Description "}),Object(Y.jsx)("th",{className:"table-header",children:" Feedback "}),c&&Object(Y.jsx)("th",{className:"table-header",children:" Comments "})]})}),Object(Y.jsx)("tbody",{className:"scrolling",children:b.map((function(e,t){return Object(Y.jsx)("tr",{children:"header"===e.type?(n=e,Object(Y.jsx)(Y.Fragment,{children:"assessmentHeader"===n.id||"assessmentSubHeader"===n.id?Object(Y.jsx)("td",{colSpan:"4",className:ce(n),children:Object(Y.jsx)("b",{children:n.label})}):Object(Y.jsx)("td",{colSpan:"10",className:"black",children:Object(Y.jsx)("div",{children:Object(Y.jsxs)("em",{children:["\xa0\xa0\xa0Intervention Group: ",n.probLabel]})})})})):P(e)},t);var n}))})]})})})]})};var Ot=function(){var e=Object(l.m)().logID,t=Object(i.useState)(void 0),n=Object(u.a)(t,2),r=n[0],o=n[1],s=Object(i.useState)(void 0),a=Object(u.a)(s,2),c=a[0],d=a[1],h=Object(i.useState)(void 0),b=Object(u.a)(h,2),f=b[0],p=b[1],m=Object(i.useState)(!1),v=Object(u.a)(m,2),g=v[0],w=v[1],C=Object(i.useState)(!1),P=Object(u.a)(C,2),E=P[0],x=P[1];function k(){window.confirm("Are you sure you want to overwrite the existing analysis?  Any prior comments previously added will be lost.")&&D(f,r)}function D(e,t){return S.apply(this,arguments)}function S(){return(S=Object(y.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dt(t,n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(y.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(O,"debriefing-feedback-logs",e);case 2:if(t.sent){t.next=7;break}D(f,r),w(!0),t.next=8;break;case 7:k();case 8:return w(!0),t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.useEffect)((function(){W(O,e).then((function(e){o(e)})).catch((function(e){return alert("error fetching observer log",e)}))}),[]),Object(i.useEffect)((function(){r&&M(O,r.scenarioID,"V2").then((function(e){console.log("retrieve scenario:",e),p(e)}))}),[r]),Object(i.useEffect)((function(){f&&function(){I.apply(this,arguments)}()}),[f]),Object(i.useEffect)((function(){g&&H(O,e).then((function(e){d(e)})).catch((function(e){return alert("error fetching debriefing log",e)}))}),[g]),Object(i.useEffect)((function(){c&&x(!0)}),[c]),E?Object(Y.jsx)(vt,{log:c,actions:c.events,scenario:f,context:"initial-analysis"}):Object(Y.jsx)("h3",{children:"Loading"})},gt=function(){var e=Object(l.m)().logID,t=Object(i.useState)(null),n=Object(u.a)(t,2),r=n[0],o=n[1],s=Object(i.useState)(null),a=Object(u.a)(s,2),c=a[0],d=a[1],h=Object(i.useState)(!1),b=Object(u.a)(h,2),f=b[0],p=b[1];return Object(i.useEffect)((function(){W(O,e).then((function(e){o(e)}))}),[e]),Object(i.useEffect)((function(){r&&M(O,r.scenarioID).then((function(e){d(e),console.log("scenario",e)}))}),[r]),Object(i.useEffect)((function(){c&&p(!0)}),[c]),f?Object(Y.jsx)(Ot,{log:e}):Object(Y.jsx)("h3",{children:"Loading"})};var jt=function(){var e=Object(l.m)().logID,t=Object(i.useState)(void 0),n=Object(u.a)(t,2),r=n[0],o=n[1],s=Object(i.useState)(void 0),a=Object(u.a)(s,2),c=a[0],d=a[1],h=Object(i.useState)(void 0),b=Object(u.a)(h,2),f=b[0],p=b[1],m=Object(i.useState)(!1),v=Object(u.a)(m,2),g=v[0],w=v[1],C=Object(i.useState)(!1),P=Object(u.a)(C,2),E=P[0],x=P[1];function k(){return(k=Object(y.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(O,"debriefing-feedback-logs",e);case 2:if(t.sent){t.next=4;break}dt(f,r);case 4:return w(!0),t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.useEffect)((function(){W(O,e).then((function(e){o(e)})).catch((function(e){return alert("error fetching observer log",e)}))}),[e]),Object(i.useEffect)((function(){r&&M(O,r.scenarioID,"V2").then((function(e){console.log("scenario:",e),p(e)}))}),[r]),Object(i.useEffect)((function(){f&&function(){k.apply(this,arguments)}()}),[f]),Object(i.useEffect)((function(){g&&H(O,e).then((function(e){d(e)})).catch((function(e){return alert("error fetching debriefing log",e)}))}),[g]),Object(i.useEffect)((function(){c&&x(!0)}),[c]),E?Object(Y.jsx)(vt,{log:c,actions:c.events,scenario:f,context:"review"}):Object(Y.jsx)("h3",{children:"Loading"})},yt=function(e){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(mt,{title:"MedDBriefer Authentication"}),e.children]})},wt=function(e){return Object(Y.jsx)(d.AuthProvider,{children:Object(Y.jsx)(c.HashRouter,{children:Object(Y.jsxs)(l.g,{children:[Object(Y.jsx)(d.PrivateRoute,{exact:!0,path:"/logs/:logID",authFlowLayout:yt,component:gt}),Object(Y.jsx)(d.PrivateRoute,{exact:!0,path:"/debriefing-feedback-logs/:logID",authFlowLayout:yt,component:jt}),Object(Y.jsx)(d.PrivateRoute,{exact:!0,match:"/",authFlowLayout:yt,component:V})]})})})},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),o(e),s(e)}))};a.a.render(Object(Y.jsx)(o.a.StrictMode,{children:Object(Y.jsx)(wt,{})}),document.getElementById("root")),Ct()}},[[61,1,2]]]);
//# sourceMappingURL=main.0edfc9be.chunk.js.map