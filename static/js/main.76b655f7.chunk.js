(this["webpackJsonp@meddbriefer/debriefer"]=this["webpackJsonp@meddbriefer/debriefer"]||[]).push([[0],{43:function(e,t,i){},51:function(e,t,i){},54:function(e,t,i){"use strict";i.r(t);var s=i(3),n=i.n(s),a=i(37),r=i.n(a),o=(i(43),i(20)),l=i(8),p=i(23),c=(i(50),i(51),i(13)),d=(i(7),i(17),i(24)),m=(i(34),i(36),d.default.apps.length?d.default.app():d.default.initializeApp({apiKey:"AIzaSyBOgWAbXUGckpad2sk0IUo00hZsV4WxG0E",authDomain:"meddbriefer-68cd4.firebaseapp.com",projectId:"meddbriefer-68cd4",storageBucket:"meddbriefer-68cd4.appspot.com",messagingSenderId:"1087114796018",appId:"1:1087114796018:web:679fbab38dbf78af0ce96b",measurementId:"G-Q7QZKC9KHW"})),u=(m.auth(),m.firestore()),b=i(27),h="answer",y="assessment",v="assessment-option",S="checklist-prompt",g="heading",f="intervention",E="none",w="one",O="one-or-more",I="prompt",A="required-action",R=Object.freeze({PHASE:"phase",SUB_PHASE:"sub-phase",ASSESS:y,AWO:"assessment-with-options",ASSESS_OPTION:v,ASSESSO:v,CL_PROMPT:S,DECISION:"decision",DECISION_OPTION:"decision-option",REQUIRED:A,REQURED:A,INTERV:f,PROMPT_SET:"prompt-set",PROMPT:I,ANSWER:h}),P=Object.freeze({ONE:w,OOM:O,NONE:E}),N=Object.freeze({PHASE:"",SUB_PHASE:"",ANSWER:"answer-",ASSESS:"assess-",AWO:"assessment-with-options-",ASSESS_OPTION:"assess-option-",CL_PROMPT:"cl-prompt-",DECISION:"decision-",DECISION_OPTION:"decision-option-",INTERV:"intv-",PROMPT_SET:"prompt-set-",PROMPT:"prompt-",REQUIRED:"required-action-"}),T=Object.freeze({AW:"airway",BR:"breathing",BL:"bleeding",SH:"shock"}),D=[{id:"bsi",type:R.PHASE,label:"BSI"},{id:"required-action-apply-ppe",type:R.REQUIRED,label:"Takes or verbalizes appropriate PPE precautions."},{id:"scene-size-up",type:R.PHASE,label:"Scene Size-Up"},{id:"assess-scene-safety",type:R.ASSESS,abbrLabel:"Scene Safety",label:"Determines the scene/situation is safe"},{id:"assess-injury-mechanism",type:R.ASSESS,abbrLabel:"Mechanism of Injury",label:"Determines the mechanism of injury/nature of illness"},{id:"assess-num-patients",type:R.ASSESS,abbrLabel:"Num Patients",label:"Determines the number of patients"},{id:"assess-need-additional-help",type:R.ASSESS,abbrLabel:"Additional Help",label:"Requests additional help if necessary"},{id:"required-action-considers-stabilize-spine",type:R.REQUIRED,label:"Considers stabilization of spine"},{id:"primary-survey",type:R.PHASE,label:"Primary Survey"},{id:"general-impression",type:R.SUB_PHASE,label:"General Impression"},{id:"assess-patient-condition",type:R.ASSESS,abbrLabel:"General Impression",label:"States or requests general impression"},{id:"assess-loc",type:R.ASSESS,abbrLabel:"LOC",label:"Assesses responsiveness/level of consciousness"},{id:"assess-life-threats",type:R.ASSESS,abbrLabel:"Life Threats",label:"Determines chief complaint/apparent life-threats"},{id:"airway",type:R.SUB_PHASE,label:"Airway"},{id:"assess-airway",type:R.ASSESS,abbrLabel:"Airway",label:"Assesses airway"},{id:"breathing",type:R.SUB_PHASE,label:"Breathing"},{id:"assess-breathing",type:R.ASSESS,abbrLabel:"Breathing",label:"Assesses breathing"},{id:"circulation",type:R.SUB_PHASE,label:"Circulation"},{id:"assess-pulse",type:R.ASSESS,abbrLabel:"Pulse",label:"Checks pulse"},{id:"assess-skin",type:R.ASSESS,abbrLabel:"Skin",label:"Assesses skin (color, temperature, condition)"},{id:"assess-major-bleeding",type:R.ASSESS,abbrLabel:"Major Bleeding",label:"Checks for major bleeding"},{id:"transport-decision",type:R.SUB_PHASE,label:"Transport Decision"},{id:"decision-is-load-and-go",type:R.DECISION,label:"Is this a critical patient?"},{id:"decision-option-is-load-and-go",type:R.DECISION_OPTION,abbrLabel:"Yes",label:"Is load-and-go",promptID:"decision-is-load-and-go"},{id:"decision-option-is-stay-and-play",type:R.DECISION_OPTION,abbrLabel:"No",label:"Is stay-and-play",promptID:"decision-is-load-and-go"},{id:"history-taking",type:R.PHASE,label:"History Taking"},{id:"required-action-obtains-vitals",type:R.REQUIRED,abbrLabel:"Obtains vitals",label:"Obtains (or directs assistant to obtain) baseline vital signs"},{id:"required-action-attempt-obtain-sample",type:R.REQUIRED,abbrLabel:"Obtains SAMPLE",label:"Attempts to obtain SAMPLE history"},{id:"assess-opqrst-info",type:R.ASSESS,abbrLabel:"Obtains OPQRST",label:"Attempts to obtain OPQRST"},{id:"secondary-assessment",type:R.PHASE,label:"Secondary Survey"},{id:"trauma-expose",type:R.SUB_PHASE,label:"Trauma Expose"},{id:"required-action-remove-patient-clothing-as-needed",type:R.REQUIRED,label:"Exposes (and recovers) anatomical areas as necessary"},{id:"head",type:R.SUB_PHASE,label:"Head"},{id:"assess-inspects-head",type:R.ASSESS,abbrLabel:"Inspect Head",label:"Inspects the head"},{id:"assess-palpate-skull",type:R.ASSESS,abbrLabel:"Palpate Skull",label:"Palpates the skull"},{id:"assess-eyes-reactiveness",type:R.ASSESS,abbrLabel:"PERRL",label:"Assesses eyes for reactiveness"},{id:"assess-eyes-ears-nose-mouth",type:R.ASSESS,abbrLabel:"Head Fluids",label:"Assesses eyes, ears, nose, mouth"},{id:"neck",type:R.SUB_PHASE,label:"Neck"},{id:"assess-inspects-neck",type:R.ASSESS,abbrLabel:"Neck",label:"Inspects the neck"},{id:"assess-trachea",type:R.ASSESS,abbrLabel:"Trachea",label:"Inspects position of trachea"},{id:"assess-jugular",type:R.ASSESS,abbrLabel:"Jugular",label:"Inspects jugular veins"},{id:"assess-palpate-cervical-spine",type:R.ASSESS,abbrLabel:"Palpate C-Spine",label:"Palpates cervical spine"},{id:"shoulders",type:R.SUB_PHASE,label:"Shoulders"},{id:"assess-check-shoulders",type:R.ASSESS,abbrLabel:"Check Shoulders",label:"Checks if stable and intact"},{id:"clavicle",type:R.SUB_PHASE,label:"Clavicle"},{id:"assess-inspect-clavicle",type:R.ASSESS,abbrLabel:"Checks Clavicle",label:"Checks if stable and intact"},{id:"chest",type:R.SUB_PHASE,label:"Chest"},{id:"assess-inspect-chest",type:R.ASSESS,abbrLabel:"Inspects Chest",label:"Inspects Chest"},{id:"assess-palpate-chest",type:R.ASSESS,abbrLabel:"Palpate Chest",label:"Palpates chest"},{id:"assess-auscultate-chest",type:R.ASSESS,abbrLabel:"Auscultate Chest",label:"Auscultates chest"},{id:"abdomen-pelvis",type:R.SUB_PHASE,label:"Abdomen/pelvis"},{id:"assess-inspects-abdomen",type:R.ASSESS,abbrLabel:"Inspects Abdomen",label:"Inspects abdomen"},{id:"assess-palpate-abdomen",type:R.ASSESS,abbrLabel:"Palpate Abdomen",label:"Palpates abdomen"},{id:"assess-pelvis",type:R.ASSESS,abbrLabel:"Pelvis",label:"Assesses pelvis"},{id:"assess-genitalia-perineum",type:R.ASSESS,abbrLabel:"Genitalia/Perineum",label:"Assesses genitalia/perineum"},{id:"lower-extremities",type:R.SUB_PHASE,label:"Lower extremities"},{id:"assessment-with-options-legs-inspects",type:R.AWO,label:"Inspects lower extremities",abbrLabel:"Inspect Legs"},{id:"assess-option-legs-inspects-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Inspects lower extremities bilaterally",promptID:"assessment-with-options-legs-inspects"},{id:"assess-option-legs-inspects-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Inspects lower extremities on left side only",promptID:"assessment-with-options-legs-inspects"},{id:"assess-option-legs-inspects-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Inspects lower extremities on right side only",promptID:"assessment-with-options-legs-inspects"},{id:"assessment-with-options-legs-motor-function",type:R.AWO,label:"Assesses motor function",abbrLabel:"Legs Motor Func."},{id:"assess-option-legs-motor-function-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Assesses lower extremities motor function bilaterally",promptID:"assessment-with-options-legs-motor-function"},{id:"assess-option-legs-motor-function-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Asessess lower extremities motor function on left side only",promptID:"assessment-with-options-legs-motor-function"},{id:"assess-option-legs-motor-function-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Asessess lower extremities motor function on right side only",promptID:"assessment-with-options-legs-motor-function"},{id:"assessment-with-options-legs-sensory-function",type:R.AWO,abbrLabel:"Legs Sensory Func.",label:"Assesses sensory function"},{id:"assess-option-legs-sensory-function-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Assesses lower extremities sensory function bilaterally",promptID:"assessment-with-options-legs-sensory-function"},{id:"assess-option-legs-sensory-function-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Asessess lower extremities sensory function on left side only",promptID:"assessment-with-options-legs-sensory-function"},{id:"assess-option-legs-sensory-function-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Asessess lower extremities sensory function on right side only",promptID:"assessment-with-options-legs-sensory-function"},{id:"assessment-with-options-legs-pulse",type:R.AWO,label:"Checks pulse",abbrLabel:"Legs Pulse"},{id:"assess-option-legs-pulse-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Assesses lower extremities pulse bilaterally",promptID:"assessment-with-options-legs-pulse"},{id:"assess-option-legs-pulse-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Asessess lower extremities pulse on left side only",promptID:"assessment-with-options-legs-pulse"},{id:"assess-option-legs-pulse-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Asessess lower extremities pulse on right side only",promptID:"assessment-with-options-legs-pulse"},{id:"upper-extremities",type:R.SUB_PHASE,label:"Upper extremities"},{id:"assessment-with-options-arms-inspects",type:R.AWO,abbrLabel:"Inspects Arms",label:"Inspects upper extremities"},{id:"assess-option-arms-inspects-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Inspects upper extremities bilaterally",promptID:"assessment-with-options-arms-inspects"},{id:"assess-option-arms-inspects-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Inspects upper extremities on left side only",promptID:"assessment-with-options-arms-inspects"},{id:"assess-option-arms-inspects-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Inspects upper extremities on right side only",promptID:"assessment-with-options-arms-inspects"},{id:"assessment-with-options-arms-motor-function",type:R.AWO,abbrLabel:"Arms Motor Func.",label:"Assesses motor function"},{id:"assess-option-arms-motor-function-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Assesses upper extremities motor function bilaterally",promptID:"assessment-with-options-arms-motor-function"},{id:"assess-option-arms-motor-function-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Asessess upper extremities motor function on left side only",promptID:"assessment-with-options-arms-motor-function"},{id:"assess-option-arms-motor-function-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Asessess upper extremities motor function on right side only",promptID:"assessment-with-options-arms-motor-function"},{id:"assessment-with-options-arms-sensory-function",type:R.AWO,abbrLabel:"Arms Sensory Func.",label:"Assesses sensory function"},{id:"assess-option-arms-sensory-function-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Assesses upper extremities sensory function bilaterally",promptID:"assessment-with-options-arms-sensory-function"},{id:"assess-option-arms-sensory-function-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Asessess upper extremities sensory function on left side only",promptID:"assessment-with-options-arms-sensory-function"},{id:"assess-option-arms-sensory-function-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Asessess upper extremities sensory function on right side only",promptID:"assessment-with-options-arms-sensory-function"},{id:"assessment-with-options-arms-pulse",type:R.AWO,abbrLabel:"Arms Pulse",label:"Checks pulse"},{id:"assess-option-arms-pulse-bilaterally",type:R.ASSESS_OPTION,abbrLabel:"Bilaterally",label:"Assesses upper extremities pulse bilaterally",promptID:"assessment-with-options-arms-pulse"},{id:"assess-option-arms-pulse-left-only",type:R.ASSESS_OPTION,abbrLabel:"Left side only",label:"Asessess upper extremities pulse on left side only",promptID:"assessment-with-options-arms-pulse"},{id:"assess-option-arms-pulse-right-only",type:R.ASSESS_OPTION,abbrLabel:"Right side only",label:"Asessess upper extremities pulse on right side only",promptID:"assessment-with-options-arms-pulse"},{id:"posterior",type:R.SUB_PHASE,label:"Posterior",verboseLabel:"Posterior thorax, lumbar, and buttocks"},{id:"assess-posterior-inspects",type:R.ASSESS,label:"Inspects posterior thorax, lumbar, buttocks",abbrLabel:"Inspects Posterior"},{id:"assess-palpate-posterior-thorax",type:R.ASSESS,label:"Palpates posterior thorax/lumbar/buttocks",abbrLabel:"Palpate Posterior/Thorax"},{id:"cardiac-monitoring",type:R.SUB_PHASE,label:"Cardiac Monitoring"},{id:"assess-cardiac-monitoring",type:R.ASSESS,label:"Performs cardiac monitoring",abbrLabel:"Cardiac Monitoring"},{id:"ongoing-mgmt-plan",type:R.PHASE,label:"Ongoing Reassessment"},{id:"repeat-primary-survey",type:R.SUB_PHASE,label:"Repeat Primary Survey"},{id:"required-action-reassess-loc",type:R.REQUIRED,label:"Reassess level of conciousness"},{id:"required-action-reassess-airway",type:R.REQUIRED,label:"Reassess airway"},{id:"required-action-reassess-breathing",type:R.REQUIRED,label:"Reassess breathing"},{id:"required-action-reassess-circulation",type:R.REQUIRED,label:"Reassess circulation"},{id:"repeat-secondary-survey",type:R.SUB_PHASE,label:"Repeat Secondary Survey"},{id:"required-action-reassess-vital-signs",type:R.REQUIRED,label:"Reassess vital signs"},{id:"required-action-reassess-head-to-toe",type:R.REQUIRED,label:"Repeat rapid head-to-toe assessment"},{id:"contact-facility",type:R.SUB_PHASE,label:"Contact facility"},{id:"required-action-radio-receiving-facility",type:R.REQUIRED,label:"Radio report to receiving facility"}],j=[{id:"prompt-set-iv-details",type:R.PROMPT_SET},{id:"prompt-num-ivs",type:R.PROMPT,selectionType:P.ONE,label:"How many IVs would you establish?",promptSetID:"prompt-set-iv-details"},{id:"answer-num-ivs-one",type:R.ANSWER,label:"one",promptID:"prompt-num-ivs"},{id:"answer-num-ivs-two",type:R.ANSWER,label:"two",promptID:"prompt-num-ivs"},{id:"answer-num-ivs-other",type:R.ANSWER,label:"Other",promptID:"prompt-num-ivs"},{id:"prompt-iv-size",type:R.PROMPT,selectionType:P.ONE,label:"What size IV?",promptSetID:"prompt-set-iv-details"},{id:"answer-iv-size-large-as-possible",type:R.ANSWER,label:"As large as possible",promptID:"prompt-iv-size"},{id:"answer-iv-size-other",type:R.ANSWER,label:"Other",promptID:"prompt-iv-size"},{id:"prompt-set-orotracheal-intubation-details",type:R.PROMPT_SET},{id:"prompt-intubation-tube-size",type:R.PROMPT,selectionType:P.ONE,label:"What size tube would you use?",promptSetID:"prompt-set-orotracheal-intubation-details"},{id:"answer-intubation-tube-size-option-1",type:R.ANSWER,label:"scenario-specific-option",promptID:"prompt-intubation-tube-size"},{id:"answer-intubation-tube-size-other",type:R.ANSWER,label:"Other",promptID:"prompt-intubation-tube-size"},{id:"prompt-intubation-confirm-correct-tube-placement",type:R.PROMPT,selectionType:P.OOM,label:"What techniques will you use to confirm correct tube placement?",promptSetID:"prompt-set-orotracheal-intubation-details"},{id:"answer-inspect-tube-location",type:R.ANSWER,label:"Inspect tube location",promptID:"prompt-intubation-confirm-correct-tube-placement"},{id:"answer-co2-capnography",type:R.ANSWER,label:"CO2 capnography",promptID:"prompt-intubation-confirm-correct-tube-placement"},{id:"answer-auscultate-epigastrium",type:R.ANSWER,label:"Auscultate bilaterally and over epigastrium",promptID:"prompt-intubation-confirm-correct-tube-placement"},{id:"answer-check-oxygen-saturation",type:R.ANSWER,label:"Check oxygen saturation",promptID:"prompt-intubation-confirm-correct-tube-placement"},{id:"intv-open-airway-method-head-tilt",type:R.INTERV,system:T.AW,label:"Head tilt"},{id:"intv-open-airway-method-jaw-thrust",type:R.INTERV,system:T.AW,label:"Jaw thrust"},{id:"intv-open-airway-method-modified-jaw-thrust",type:R.INTERV,system:T.AW,label:"Modified jaw thrust"},{id:"intv-open-airway-method-other",type:R.INTERV,system:T.AW,label:"Other"},{id:"intv-airway-patency-technique-suction-airway",type:R.INTERV,system:T.AW,label:"Suction airway"},{id:"prompt-set-airway-patency-suction",type:R.PROMPT_SET},{id:"prompt-airway-patency-suction-device",type:R.PROMPT,selectionType:P.ONE,label:"What kind of suction catheter will you use?",promptSetID:"prompt-set-airway-patency-suction"},{id:"answer-airway-patency-suction-yankauer",type:R.ANSWER,label:"Yankauer",promptID:"prompt-airway-patency-suction-device"},{id:"answer-airway-patency-suction-long-multiuse",type:R.ANSWER,label:"Long, multiuse",promptID:"prompt-airway-patency-suction-device"},{id:"answer-airway-patency-suction-other",type:R.ANSWER,label:"Other",promptID:"prompt-airway-patency-suction-device"},{id:"intv-airway-patency-technique-remove-foreign-body-obstructions",type:R.INTERV,system:T.AW,label:"Remove foreign body obstructions"},{id:"prompt-set-airway-patency-remove-foreign-body-obstructions",type:R.PROMPT_SET},{id:"prompt-airway-patency-remove-foreign-body-obstructions-technique",type:R.PROMPT,selectionType:P.OOM,label:"What technique(s) will you try, and in what order?",promptSetID:"prompt-set-airway-patency-remove-foreign-body-obstructions"},{id:"answer-airway-patency-remove-foreign-body-obstructions-technique-manual",type:R.ANSWER,label:"Manual (finger sweep)",promptID:"prompt-airway-patency-remove-foreign-body-obstructions-technique"},{id:"answer-airway-patency-remove-foreign-body-obstructions-technique-magill-forceps",type:R.ANSWER,label:"Magill forceps assisted",promptID:"prompt-airway-patency-remove-foreign-body-obstructions-technique"},{id:"answer-airway-patency-remove-foreign-body-obstructions-technique-slat",type:R.ANSWER,label:"SLAT",promptID:"prompt-airway-patency-remove-foreign-body-obstructions-technique"},{id:"intv-oropharyngeal",type:R.INTERV,system:T.AW,label:"Oropharyngeal adjunct"},{id:"prompt-set-when-naso-vs-oro",type:R.PROMPT_SET},{id:"prompt-when-naso-vs-oro",type:R.PROMPT,selectionType:P.OOM,label:"When would you use a nasopharyngeal airway instead of an oropharyngeal airway?",promptSetID:"prompt-set-when-naso-vs-oro"},{id:"answer-use-naso-when-gag-reflex",type:R.ANSWER,label:"When patient has a gag reflex",promptID:"prompt-when-naso-vs-oro"},{id:"answer-use-naso-when-no-gag-reflex-but-no-opa",type:R.ANSWER,label:"When patient doesn't have a gag reflex but doesn't accept OPA",promptID:"prompt-when-naso-vs-oro"},{id:"answer-use-naso-when-no-facial-trauma",type:R.ANSWER,label:"When patient does not have facial trauma",promptID:"prompt-when-naso-vs-oro"},{id:"answer-use-naso-when-other",type:R.ANSWER,label:"Other",promptID:"prompt-when-naso-vs-oro"},{id:"intv-nasopharyngeal",type:R.INTERV,system:T.AW,label:"Nasopharyngeal adjunct"},{id:"prompt-set-when-oro-vs-naso",type:R.PROMPT_SET},{id:"prompt-when-oro-vs-naso",type:R.PROMPT,selectionType:P.OOM,label:"When would you use a oropharyngeal airway instead of an nasopharyngeal airway?",promptSetID:"prompt-set-when-oro-vs-naso"},{id:"answer-use-oro-when-no-gag-reflex",type:R.ANSWER,label:"When patient does not have a gag reflex",promptID:"prompt-when-oro-vs-naso"},{id:"answer-use-oro-when-other",type:R.ANSWER,label:"Other",promptID:"prompt-when-oro-vs-naso"},{id:"intv-airway-patency-technique-cricothyrotomy",type:R.INTERV,system:T.AW,label:"Perform cricothyrotomy"},{id:"prompt-set-airway-patency-cricothyrotomy",type:R.PROMPT_SET},{id:"prompt-cricothyrotomy-type",type:R.PROMPT,selectionType:P.ONE,label:"Which type?",promptSetID:"prompt-set-airway-patency-cricothyrotomy"},{id:"answer-cricothyrotomy-type-percutaneous",type:R.ANSWER,label:"Percutaneous",promptID:"prompt-cricothyrotomy-type"},{id:"answer-cricothyrotomy-type-surgical",type:R.ANSWER,label:"Surgical",promptID:"prompt-cricothyrotomy-type"},{id:"intv-supraglottic",type:R.INTERV,system:T.AW,label:"Supraglottic"},{id:"intv-orotracheal-intubation-type-direct",type:R.INTERV,system:T.AW,label:"Direct"},{id:"intv-orotracheal-intubation-type-medication-facilitated",type:R.INTERV,system:T.AW,label:"Medication Facilitated"},{id:"prompt-set-orotracheal-intubation-type-medication-facilitated",type:R.PROMPT_SET},{id:"prompt-sedated-intubation-medication",type:R.PROMPT,selectionType:P.ONE,label:"What medication would you administer?",promptSetID:"prompt-set-orotracheal-intubation-type-medication-facilitated"},{id:"answer-sedated-intubation-medication-etomidate",type:R.ANSWER,label:"Etomidate",promptID:"prompt-sedated-intubation-medication"},{id:"answer-sedated-intubation-medication-other",type:R.ANSWER,label:"Other",promptID:"prompt-sedated-intubation-medication"},{id:"intv-ventilation-technique-bag-valve-mask",type:R.INTERV,system:T.BR,label:"Bag-valve mask"},{id:"intv-ventilation-technique-automatic-transport-ventilator",type:R.INTERV,system:T.BR,label:"Automatic transport ventilator"},{id:"prompt-set-ventilation-rate",type:R.PROMPT_SET},{id:"prompt-ventilation-rate",type:R.PROMPT,selectionType:P.ONE,label:"At what rate will you ventilate the patient?",promptSetID:"prompt-set-ventilation-rate"},{id:"answer-ventilation-rate-10-12-bpm",type:R.ANSWER,label:"10-12 breaths/minute",promptID:"prompt-ventilation-rate"},{id:"answer-ventilation-rate-other",type:R.ANSWER,label:"Other",promptID:"prompt-ventilation-rate"},{id:"intv-oxygen-therapy-device-non-rebreather-mask",type:R.INTERV,system:T.BR,label:"Non-rebreather mask"},{id:"intv-oxygen-therapy-device-nasal-cannula",type:R.INTERV,system:T.BR,label:"Nasal cannula"},{id:"prompt-set-oxygen-therapy-details",type:R.PROMPT_SET},{id:"prompt-oxygen-therapy-flow-rate",type:R.PROMPT,selectionType:P.ONE,label:"Oxygen flow rate?",promptSetID:"prompt-set-oxygen-therapy-details"},{id:"answer-oxygen-therapy-flow-rate-2-6-lpm",type:R.ANSWER,label:"2-6 liters/min",promptID:"prompt-oxygen-therapy-flow-rate"},{id:"answer-oxygen-therapy-flow-rate-15-lpm",type:R.ANSWER,label:"15 liters/min",promptID:"prompt-oxygen-therapy-flow-rate"},{id:"answer-oxygen-therapy-flow-rate-other",type:R.ANSWER,label:"Other",promptID:"prompt-oxygen-therapy-flow-rate"},{id:"prompt-oxygen-therapy-target-saturation",type:R.PROMPT,selectionType:P.ONE,label:"What is your target oxygen saturation range?",promptSetID:"prompt-set-oxygen-therapy-details"},{id:"answer-oxygen-therapy-target-saturation-94-or-greater",type:R.ANSWER,label:"94 or greater",promptID:"prompt-oxygen-therapy-target-saturation"},{id:"answer-oxygen-therapy-target-saturation-other",type:R.ANSWER,label:"Other",promptID:"prompt-oxygen-therapy-target-saturation"},{id:"intv-occlusive-dressing",type:R.INTERV,system:T.BR,label:"Occlusive dressing"},{id:"prompt-set-occlusive-dressing",type:R.PROMPT_SET},{id:"prompt-occlusive-dressing-method",type:R.PROMPT,selectionType:P.ONE,label:"How would you create a release valve on an occlusive dressing?",promptSetID:"prompt-set-occlusive-dressing"},{id:"answer-occulative-dressing-method-leave-one-side-untaped",type:R.ANSWER,label:"Leave one side untaped",promptID:"prompt-occlusive-dressing-method"},{id:"answer-occulative-dressing-method-other",type:R.ANSWER,label:"Other",promptID:"prompt-occlusive-dressing-method"},{id:"intv-pleural-decompression",type:R.INTERV,system:T.BR,label:"Pleural decompression"},{id:"prompt-set-pleural-decompression",type:R.PROMPT_SET,label:"Pleural decompression"},{id:"prompt-pleural-decompression-needle-placement-side-of-the-body",type:R.PROMPT,selectionType:P.ONE,label:"On which side of the body would you place the needle?",promptSetID:"prompt-set-pleural-decompression"},{id:"answer-pleural-decompression-needle-placement-side-of-the-body-right",type:R.ANSWER,label:"Right",promptID:"prompt-pleural-decompression-needle-placement-side-of-the-body"},{id:"answer-pleural-decompression-needle-placement-side-of-the-body-left",type:R.ANSWER,label:"Left",promptID:"prompt-pleural-decompression-needle-placement-side-of-the-body"},{id:"prompt-pleural-decompression-needle-placement-anatomical-landmark",type:R.PROMPT,selectionType:P.OOM,label:"At what anatomical landmark?",promptSetID:"prompt-set-pleural-decompression"},{id:"answer-pleural-decompression-needle-placement-anatomical-landmark-2nd-intercostal-space-mid-clavicular",type:R.ANSWER,label:"Second intercostal space mid-clavicular",promptID:"prompt-pleural-decompression-needle-placement-anatomical-landmark"},{id:"answer-pleural-decompression-needle-placement-anatomical-landmark-4th-5th-intercostal-space",type:R.ANSWER,label:"Fourth/fifth intercostal space",promptID:"prompt-pleural-decompression-needle-placement-anatomical-landmark"},{id:"answer-pleural-decompression-needle-placement-anatomical-landmark-other",type:R.ANSWER,label:"Other",promptID:"prompt-pleural-decompression-needle-placement-anatomical-landmark"},{id:"prompt-pleural-decompression-needle-size",type:R.PROMPT,selectionType:P.ONE,label:"What size needle do you want to use?",promptSetID:"prompt-set-pleural-decompression"},{id:"answer-pleural-decompression-needle-size-correct",type:R.ANSWER,label:"Correct answer",promptID:"prompt-pleural-decompression-needle-size"},{id:"answer-pleural-decompression-needle-size-other",type:R.ANSWER,label:"Other",promptID:"prompt-pleural-decompression-needle-size"},{id:"intv-control-severe-bleeding-technique-direct-pressure",type:R.INTERV,system:T.BL,label:"Apply direct pressure"},{id:"intv-control-severe-bleeding-technique-tourniquet",type:R.INTERV,system:T.BL,label:"Apply tourniquet"},{id:"intv-control-severe-bleeding-technique-2nd-tourniquet",type:R.INTERV,system:T.BL,label:"Apply second tourniquet"},{id:"intv-control-severe-bleeding-technique-pressure-bandage",type:R.INTERV,system:T.BL,label:"Apply pressure bandage"},{id:"intv-control-severe-bleeding-technique-hemostatic-gauze",type:R.INTERV,system:T.BL,label:"Apply hemostatic gauze"},{id:"intv-control-severe-bleeding-technique-pack-wound-with-gauze",type:R.INTERV,system:T.BL,label:"Pack wound with gauze"},{id:"intv-control-severe-bleeding-technique-load-and-go",type:R.INTERV,system:T.BL,label:"Load and go (if uncontrolled)"},{id:"prompt-set-tourniquet",type:R.PROMPT_SET},{id:"prompt-tourniquet-placement",type:R.PROMPT,selectionType:P.ONE,label:"Where would you place the tourniquet?",promptSetID:"prompt-set-tourniquet"},{id:"answer-tourniquet-placement-close-to-core-far-from-wound",type:R.ANSWER,label:"As far from wound and close to the core as possible",promptID:"prompt-tourniquet-placement"},{id:"answer-tourniquet-placement-other",type:R.ANSWER,label:"Other",promptID:"prompt-tourniquet-placement"},{id:"prompt-tourniquet-stop-tightening-when",type:R.PROMPT,selectionType:P.OOM,label:"When do you know when to stop tightening the tourniquet?",promptSetID:"prompt-set-tourniquet"},{id:"answer-tourniquet-stop-tightening-when-bleeding-has-stopped",type:R.ANSWER,label:"When bleeding has stopped",promptID:"prompt-tourniquet-stop-tightening-when"},{id:"answer-tourniquet-stop-tightening-when-distal-pulse-is-absent",type:R.ANSWER,label:"When distal pulse is absent",promptID:"prompt-tourniquet-stop-tightening-when"},{id:"answer-tourniquet-stop-tightening-when-other",type:R.ANSWER,label:"Other",promptID:"prompt-tourniquet-stop-tightening-when"},{id:"prompt-set-2nd-tourniquet",type:R.PROMPT_SET},{id:"prompt-2nd-tourniquet-placement",type:R.PROMPT,selectionType:P.ONE,label:"Where would you place the 2nd tourniquet?",promptSetID:"prompt-set-2nd-tourniquet"},{id:"answer-2nd-tourniquet-placement-adjacent-to-initial-tourniquet",type:R.ANSWER,label:"Adjacent to initial tourniquet",promptID:"prompt-2nd-tourniquet-placement"},{id:"answer-2nd-tourniquet-placement-other",type:R.ANSWER,label:"Other",promptID:"prompt-2nd-tourniquet-placement"},{id:"intv-control-shock-technique-keep-patient-warm",type:R.INTERV,system:T.SH,label:"Keep patient warm (e.g., apply blankets)"},{id:"intv-control-shock-technique-administer-high-concentration-o2",type:R.INTERV,system:T.SH,label:"Administer high concentration of oxygen"},{id:"intv-control-shock-technique-place-patient-supine-position",type:R.INTERV,system:T.SH,label:"Place or maintain patient in supine position"},{id:"intv-control-shock-technique-administer-iv-boluses",type:R.INTERV,system:T.SH,label:"Administer IV fluid resuscitation"},{id:"prompt-set-control-shock-technique-administer-iv-boluses",type:R.PROMPT_SET},{id:"prompt-control-shock-iv-fluid",type:R.PROMPT,selectionType:P.ONE,label:"What type of fluid?",promptSetID:"prompt-set-control-shock-technique-administer-iv-boluses"},{id:"answer-control-shock-iv-fluid-saline",type:R.ANSWER,label:"Normal saline",promptID:"prompt-control-shock-iv-fluid"},{id:"answer-control-shock-iv-fluid-other",type:R.ANSWER,label:"Other",promptID:"prompt-control-shock-iv-fluid"},{id:"prompt-control-shock-iv-volume",type:R.PROMPT,selectionType:P.ONE,label:"At what volume?",promptSetID:"prompt-set-control-shock-technique-administer-iv-boluses"},{id:"answer-control-shock-iv-volume-20-cc-per-kilo",type:R.ANSWER,label:"20 cc/kilo",promptID:"prompt-control-shock-iv-volume"},{id:"answer-control-shock-iv-volume-other",type:R.ANSWER,label:"Other",promptID:"prompt-control-shock-iv-volume"},{id:"prompt-control-shock-iv-target-bp",type:R.PROMPT,selectionType:P.ONE,label:"What is your target BP?",promptSetID:"prompt-set-control-shock-technique-administer-iv-boluses"},{id:"answer-control-shock-iv-target-bp-80-90",type:R.ANSWER,label:"SBP 80-90, if bleeding is controlled",promptID:"prompt-control-shock-iv-target-bp"},{id:"answer-control-shock-iv-target-bp-other",type:R.ANSWER,label:"Other",promptID:"prompt-control-shock-iv-target-bp"},{id:"intv-transport-is-load-and-go",type:R.INTERV,label:"determines whether this is a load and go patient"},{id:"prompt-set-transport-decisions",type:R.PROMPT_SET},{id:"prompt-transport-is-load-and-go",type:R.PROMPT,selectionType:P.ONE,label:"Is this a \u201cload and go\u201d patient?",promptSetID:"prompt-set-transport-decisions"},{id:"answer-transport-is-load-and-go-yes",type:R.ANSWER,label:"Yes",promptID:"prompt-transport-is-load-and-go"},{id:"answer-transport-is-load-and-go-no",type:R.ANSWER,label:"No",promptID:"prompt-transport-is-load-and-go"},{id:"prompt-transport-facility-choice",type:R.PROMPT,selectionType:P.ONE,label:"What care facility will you transport the patient to?",promptSetID:"prompt-set-transport-decisions"},{id:"answer-transport-facility-choice-trauma-center",type:R.ANSWER,label:"Trauma center",promptID:"prompt-transport-facility-choice"},{id:"answer-transport-facility-choice-closest",type:R.ANSWER,label:"Closest receiving facility",promptID:"prompt-transport-facility-choice"},{id:"answer-transport-facility-choice-other",type:R.ANSWER,label:"Other",promptID:"prompt-transport-facility-choice"},{id:"prompt-transport-method",type:R.PROMPT,selectionType:P.ONE,label:"Would you transport this patient by air or ground?",promptSetID:"prompt-set-transport-decisions"},{id:"answer-transport-method-ambulance",type:R.ANSWER,label:"Ambulance",promptID:"prompt-transport-method"},{id:"answer-transport-method-helicopter",type:R.ANSWER,label:"Helicopter",promptID:"prompt-transport-method"},{id:"prompt-transport-lights-siren-decision",type:R.PROMPT,selectionType:P.ONE,label:"Would you use lights and sirens with this patient?",promptSetID:"prompt-set-transport-decisions"},{id:"answer-transport-lights-sirens-yes",type:R.ANSWER,label:"Yes",promptID:"prompt-transport-lights-siren-decision"},{id:"answer-transport-lights-sirens-no",type:R.ANSWER,label:"No",promptID:"prompt-transport-lights-siren-decision"},{id:"intv-spinal-immobilization-technique-manual-c-spine",type:R.INTERV,label:"Manual c-spine stabilization"},{id:"intv-spinal-immobilization-technique-ked",type:R.INTERV,label:"Seated spinal motion restriction (KED)"},{id:"intv-spinal-immobilization-technique-lbb",type:R.INTERV,label:"Supine long back board (LBB)"},{id:"intv-spinal-immobilization-technique-cervical-collar",type:R.INTERV,label:"Cervical collar"},{id:"intv-spinal-immobilization-technique-blocks",type:R.INTERV,label:"Cervical immobilization device (blocks)"},{id:"intv-manage-secondary-injuries-technique-apply-dressings",type:R.INTERV,label:"Apply dressings"},{id:"intv-manage-secondary-injuries-technique-splint-fractures",type:R.INTERV,label:"Splint fractures"},{id:"intv-manage-secondary-injuries-technique-other",type:R.INTERV,label:"Other"},{id:"intv-transfers-patient-method-walk-patient",type:R.INTERV,label:"Walk patient to ambulance"},{id:"intv-transfers-patient-method-scoop-stretcher",type:R.INTERV,label:"Use scoop stretcher"},{id:"intv-transfers-patient-method-transfer-to-stretcher-on-long-backboard",type:R.INTERV,label:"Transfer to stretcher on long backboard"},{id:"intv-transfers-patient-method-other",type:R.INTERV,label:"Other"},{id:"intv-reassess-vital-signs",type:R.INTERV,label:"Reassess vital signs"},{id:"intv-replace-basic-airway-with-advanced-or-intubate",type:R.INTERV,label:"Replace basic airway with advanced airway, or intubate"},{id:"intv-replace-bandages",type:R.INTERV,label:"Replace bandages"},{id:"intv-replace-oxygen-tank",type:R.INTERV,label:"Replace oxygen tank"},{id:"intv-adjust-iv-replace-bolus",type:R.INTERV,label:"Adjust IV, hang second bag"},{id:"intv-turn-on-heat-in-ambulance",type:R.INTERV,label:"Turn on heat in ambulance"},{id:"prompt-set-reassess-vital-signs",type:R.PROMPT_SET},{id:"prompt-reassess-vital-signs-frequency",type:R.PROMPT,selectionType:P.ONE,label:"How often will you reassess vitals?",promptSetID:"prompt-set-reassess-vital-signs"},{id:"answer-reassess-vital-signs-frequency-5-min",type:R.ANSWER,label:"Every 5 minutes",promptID:"prompt-reassess-vital-signs-frequency"},{id:"answer-reassess-vital-signs-frequency-15-min",type:R.ANSWER,label:"Every 15 minutes",promptID:"prompt-reassess-vital-signs-frequency"},{id:"answer-reassess-vital-signs-frequency-other",type:R.ANSWER,label:"Other",promptID:"prompt-reassess-vital-signs-frequency"},{id:"prompt-reassess-vital-signs-which-vitals",type:R.PROMPT,selectionType:P.NONE,label:"Which vitals would you like to reassess?",promptSetID:"prompt-set-reassess-vital-signs"},{id:"intv-establish-ivs",type:R.INTERV,label:"Establish IVs"},{id:"intv-apply-bandages",type:R.INTERV,label:"Apply bandages"},{id:"prompt-set-manage-pain-details",type:R.PROMPT_SET},{id:"prompt-pain-management-medication-min-bp",type:R.PROMPT,selectionType:P.ONE,label:"What is the minimum BP to administer pain medications?",promptSetID:"prompt-set-manage-pain-details"},{id:"answer-pain-management-medication-min-bp-correct",type:R.ANSWER,label:"correct-answer",promptID:"prompt-pain-management-medication-min-bp"},{id:"answer-pain-management-medication-min-bp-other",type:R.ANSWER,label:"Other",promptID:"prompt-pain-management-medication-min-bp"}],q=[{id:"acetaminophen",label:"Acetaminophen"},{id:"aspirin",label:"Aspirin"},{id:"diazepam",label:"Diazepam"},{id:"etomidate",label:"Etomidate"},{id:"fentanyl",label:"Fentanyl"},{id:"ibuprofen",label:"Ibuprofen"},{id:"ketamine",label:"Ketamine"},{id:"ketorolac",label:"Ketorolac"},{id:"lorazepam",label:"Lorazepam"},{id:"midazolam",label:"Midazolam"},{id:"morphineSulfate",label:"Morphine Sulfate"},{id:"nitrousOxide",label:"Nitrous Oxide"},{id:"ondansetron",label:"Ondansetron"}],x=[["initial","dosage"],["repeat","dosage"],["repeat","frequency"],["max","dosage"]],W=["lower","correct","higher"],k=[["oral","Oral"],["iv","IV"],["io","IO"],["inhalation","Inhalation"],["other","Other"]],L=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},M=function(e){j.push(e)};q.forEach((function(e){M({id:"intv-medication-".concat(e.id),type:R.INTERV,label:e.label}),function(e){var t,i="prompt-set-medication-".concat(e);M({id:i,type:R.PROMPT_SET}),x.forEach((function(s){var n=Object(c.a)(s,2),a=n[0],r=n[1];t="prompt-".concat(e,"-").concat(a,"-").concat(r),M({id:t,type:R.PROMPT,selectionType:P.ONE,label:"".concat(L(a)," ").concat(r),promptSetID:i}),W.forEach((function(i){var s="answer-".concat(e,"-").concat(a,"-").concat(r,"-").concat(i,"-").concat(r);M("correct"!==i?{id:s,type:R.ANSWER,label:"".concat(L(i)," ").concat(r),promptID:t}:{id:s,type:R.ANSWER,label:"scenario.correctMedicationDosages.".concat(e,".").concat(a).concat(L(r)),promptID:t})}))})),i="prompt-set-".concat(e,"-administration-route"),M({id:i,type:R.PROMPT_SET}),t="prompt-".concat(e,"-administration-route"),M({id:t,type:R.PROMPT,selectionType:P.OOM,label:"How would you administer this medication--through what route?",promptSetID:i}),k.forEach((function(i){var s=Object(c.a)(i,2),n=s[0],a=s[1];M({id:"answer-".concat(e,"-administration-route-").concat(n),type:R.ANSWER,label:a,promptID:t})}))}(e.id)}));var _=function(e){return JSON.parse(JSON.stringify(e))},B=function(e,t){return e.filter((function(e){return e.type===t}))},z={},H=(B(D,R.PHASE),B(D,R.SUB_PHASE),B(D,R.ASSESS),B(D,R.AWO),B(D,R.ASSESS_OPTION),B(D,R.REQURED),B(D,R.DECISION),B(D,R.DECISION_OPTION),B(D,R.CL_PROMPT),B(j,R.INTERV),B(j,R.PROMPT_SET),B(j,R.PROMPT)),C=(B(j,R.ANSWER),function(e){var t={id:e},i=D.find((function(t){return t.id===e}));if(void 0===i)throw"getChecklistData() id: ".concat(e," not found in CHECKLIST_META_DATA");return t.type=i.type,t.label=i.label,[R.AWO,R.DECISION].includes(i.type)&&(t.items=D.filter((function(t){return t.promptID===e}))),t}),V=function(e){var t=D.find((function(t){return t.id===e}));if(void 0===t)throw"getLabel() id: ".concat(e," not found in CHECKLIST_META_DATA");return t.label},U=function(e){var t=j.find((function(t){return t.id===e}));if(void 0===t)throw"getIntvData() id: ".concat(e," not found in INTV_META_DATA");return t},F=function(e){return j.filter((function(t){return t.type===R.INTERV&&t.system===e}))},Q=function(e,t){var i=Object.assign({},U(e),{depth:t});return i.system&&delete i.system,i},K=function(e){var t=e.intv,i=e.prompts,s=void 0===i?[]:i,n=Object.assign({},U(t));n.prompts=[],s.forEach((function(e){var t;return(t=n.prompts).push.apply(t,Object(b.a)(function(e){var t=e.id,i=e.constraints,s=void 0===i?null:i,n=e.dataEntry,a=void 0===n||n;return H.filter((function(e){return e.promptSetID===t})).map((function(e){var t={id:e.id,dataEntry:a};return s&&(t.showConstraints=s),t}))}(e)))})),z[t]=n},Y=function(e){var t=e.phaseType,i=e.phase,s=e.id,n=e.items,a=void 0===n?[]:n,r=e.subPhases,o=void 0===r?[]:r,l=(e.interventionsMenu,e.dataEntry),p=void 0===l||l,c=t===R.PHASE?"".concat(N.PHASE).concat(s):"".concat(N.SUB_PHASE).concat(s),d=C(c);if(d.id=s,d.type=t,d.dataEntry=p,o.length&&a.length)throw Error("a ".concat(t," cannot have both subPhases AND checklist items"));return o.length?d.subPhases=o.map((function(e){var t=C("".concat(N.SUB_PHASE).concat(e));return t.id=e,t})):d.items=a.map((function(e){return Object.assign({},C(e),{phase:i})})),d},G=function(e){var t=e.id,i=e.items,s=void 0===i?[]:i,n=e.subPhases,a=void 0===n?[]:n,r=e.interventionsMenu,o=void 0===r?[]:r,l=e.dataEntry,p=void 0===l||l;return Y({phaseType:R.PHASE,phase:t,id:t,items:s,subPhases:a,interventionsMenu:o,dataEntry:p})},J=function(e){var t=e.id,i=e.phase,s=e.items,n=void 0===s?[]:s,a=e.subPhases,r=void 0===a?[]:a,o=e.interventionsMenu,l=void 0===o?[]:o,p=e.dataEntry,c=void 0===p||p;return Y({phaseType:R.SUB_PHASE,phase:i,id:t,items:n,subPhases:r,interventionsMenu:l,dataEntry:c})};K({intv:"intv-open-airway-method-head-tilt"}),K({intv:"intv-open-airway-method-jaw-thrust"}),K({intv:"intv-open-airway-method-modified-jaw-thrust"}),K({intv:"intv-open-airway-method-other"}),K({intv:"intv-airway-patency-technique-suction-airway",prompts:[{id:"prompt-set-airway-patency-suction"}]}),K({intv:"intv-airway-patency-technique-remove-foreign-body-obstructions",prompts:[{id:"prompt-set-airway-patency-remove-foreign-body-obstructions"}]}),K({intv:"intv-oropharyngeal",prompts:[{id:"prompt-set-when-naso-vs-oro"}]}),K({intv:"intv-nasopharyngeal",prompts:[{id:"prompt-set-when-oro-vs-naso"}]}),K({intv:"intv-airway-patency-technique-cricothyrotomy",prompts:[{id:"prompt-set-airway-patency-cricothyrotomy"}]}),K({intv:"intv-supraglottic"}),K({intv:"intv-orotracheal-intubation-type-direct",prompts:[{id:"prompt-set-orotracheal-intubation-details"}]}),K({intv:"intv-orotracheal-intubation-type-medication-facilitated",prompts:[{id:"prompt-set-iv-details",dataEntry:!1},{id:"prompt-set-orotracheal-intubation-type-medication-facilitated"},{id:"prompt-set-orotracheal-intubation-details"}]}),K({intv:"intv-ventilation-technique-bag-valve-mask",prompts:[{id:"prompt-set-ventilation-rate"}]}),K({intv:"intv-ventilation-technique-automatic-transport-ventilator",prompts:[{id:"prompt-set-ventilation-rate"}]}),K({intv:"intv-oxygen-therapy-device-non-rebreather-mask",prompts:[{id:"prompt-set-oxygen-therapy-details"}]}),K({intv:"intv-oxygen-therapy-device-nasal-cannula",prompts:[{id:"prompt-set-oxygen-therapy-details"}]}),K({intv:"intv-occlusive-dressing",prompts:[{id:"prompt-set-occlusive-dressing"}]}),K({intv:"intv-pleural-decompression",prompts:[{id:"prompt-set-pleural-decompression"}]}),K({intv:"intv-control-severe-bleeding-technique-direct-pressure"}),K({intv:"intv-control-severe-bleeding-technique-tourniquet",prompts:[{id:"prompt-set-tourniquet"}]}),K({intv:"intv-control-severe-bleeding-technique-2nd-tourniquet",prompts:[{id:"prompt-set-2nd-tourniquet"}]}),K({intv:"intv-control-severe-bleeding-technique-pressure-bandage"}),K({intv:"intv-control-severe-bleeding-technique-hemostatic-gauze"}),K({intv:"intv-control-severe-bleeding-technique-pack-wound-with-gauze"}),K({intv:"intv-control-severe-bleeding-technique-load-and-go"}),K({intv:"intv-control-shock-technique-keep-patient-warm"}),K({intv:"intv-control-shock-technique-administer-high-concentration-o2"}),K({intv:"intv-control-shock-technique-place-patient-supine-position"}),K({intv:"intv-control-shock-technique-administer-iv-boluses",prompts:[{id:"prompt-set-iv-details",dataEntry:!1},{id:"prompt-set-control-shock-technique-administer-iv-boluses"}]}),K({intv:"intv-transport-is-load-and-go",prompts:[{id:"prompt-set-transport-decisions"}]}),K({intv:"intv-spinal-immobilization-technique-manual-c-spine"}),K({intv:"intv-spinal-immobilization-technique-ked"}),K({intv:"intv-spinal-immobilization-technique-lbb"}),K({intv:"intv-spinal-immobilization-technique-cervical-collar"}),K({intv:"intv-spinal-immobilization-technique-blocks"}),K({intv:"intv-manage-secondary-injuries-technique-apply-dressings"}),K({intv:"intv-manage-secondary-injuries-technique-splint-fractures"}),K({intv:"intv-manage-secondary-injuries-technique-other"}),K({intv:"intv-transfers-patient-method-walk-patient"}),K({intv:"intv-transfers-patient-method-scoop-stretcher"}),K({intv:"intv-transfers-patient-method-transfer-to-stretcher-on-long-backboard"}),K({intv:"intv-transfers-patient-method-other"}),K({intv:"intv-reassess-vital-signs",prompts:[{id:"prompt-set-reassess-vital-signs"}]}),K({intv:"intv-replace-basic-airway-with-advanced-or-intubate"}),K({intv:"intv-replace-bandages"}),K({intv:"intv-replace-oxygen-tank"}),K({intv:"intv-adjust-iv-replace-bolus"}),K({intv:"intv-turn-on-heat-in-ambulance"}),K({intv:"intv-establish-ivs",prompts:[{id:"prompt-set-iv-details",dataEntry:!1}]}),K({intv:"intv-apply-bandages"}),q.forEach((function(e){K({intv:"intv-medication-".concat(e.id),prompts:[{id:"prompt-set-medication-".concat(e.id),dataEntry:!1},{id:"prompt-set-".concat(e.id,"-administration-route"),dataEntry:!0},{id:"prompt-set-iv-details",dataEntry:!1,constraints:"answer-".concat(e.id,"-administration-route-iv")}]})}));var Z=[{id:"manual-c-spine",label:"Manual c-spine stabilization",items:[Q("intv-spinal-immobilization-technique-manual-c-spine",1)]},{id:"airway",label:V("airway"),items:[{id:"heading-bls",type:g,depth:1,label:"BLS"},{id:"heading-open-airway",type:g,depth:2,label:"Open airway"},Q("intv-open-airway-method-head-tilt",3),Q("intv-open-airway-method-jaw-thrust",3),Q("intv-open-airway-method-modified-jaw-thrust",3),Q("intv-open-airway-method-other",3),{id:"heading-establish-patency",type:g,depth:2,label:"Establish patency"},Q("intv-airway-patency-technique-remove-foreign-body-obstructions",3),Q("intv-airway-patency-technique-suction-airway",3),{id:"heading-insert-adjunct",type:g,depth:2},Q("intv-nasopharyngeal",3),Q("intv-oropharyngeal",3),{id:"heading-als",type:g,depth:"1",label:"ALS"},{id:"heading-als-airways",type:g,depth:2,label:"Insert adjunct"},Q("intv-supraglottic",3),{id:"heading-orotracheal-intubations",type:g,depth:3,label:"Orotracheal Intubation"},Q("intv-orotracheal-intubation-type-direct",4),Q("intv-orotracheal-intubation-type-medication-facilitated",4),Q("intv-airway-patency-technique-cricothyrotomy",2)]},{id:"breathing",label:V("breathing"),items:[{id:"heading-ventilation",type:g,depth:1,label:"Ventilation"},Q("intv-ventilation-technique-bag-valve-mask",2),Q("intv-ventilation-technique-automatic-transport-ventilator",2),{id:"heading-supplemental-oxygen",type:g,depth:1,label:"Supplemental Oxygen"},Q("intv-oxygen-therapy-device-nasal-cannula"),Q("intv-oxygen-therapy-device-non-rebreather-mask"),{id:"heading-manage-breathing-injury",type:g,depth:1,label:"Manage Breathing-Compromising Injuries"},Q("intv-occlusive-dressing",2),Q("intv-pleural-decompression",2)]},{id:"heading-severe-bleeding",label:"Severe Bleeding",items:[Q("intv-control-severe-bleeding-technique-direct-pressure",1),Q("intv-control-severe-bleeding-technique-tourniquet",1),Q("intv-control-severe-bleeding-technique-2nd-tourniquet",1),Q("intv-control-severe-bleeding-technique-pressure-bandage",1),Q("intv-control-severe-bleeding-technique-hemostatic-gauze",1),Q("intv-control-severe-bleeding-technique-pack-wound-with-gauze",1),Q("intv-control-severe-bleeding-technique-load-and-go",1)]},{id:"heading-shock",label:"Shock",items:[Q("intv-control-shock-technique-keep-patient-warm",1),Q("intv-control-shock-technique-administer-high-concentration-o2",1),Q("intv-control-shock-technique-place-patient-supine-position",1),Q("intv-control-shock-technique-administer-iv-boluses",1)]},{id:"spinal-immobilization",label:"Spinal Immobilization",items:[Q("intv-spinal-immobilization-technique-manual-c-spine",1),Q("intv-spinal-immobilization-technique-ked",1),Q("intv-spinal-immobilization-technique-lbb",1),Q("intv-spinal-immobilization-technique-cervical-collar",1),Q("intv-spinal-immobilization-technique-blocks",1)]},{id:"secondary-wounds",label:"Secondary Wounds",items:[Q("intv-manage-secondary-injuries-technique-apply-dressings",1),Q("intv-manage-secondary-injuries-technique-splint-fractures",1),Q("intv-manage-secondary-injuries-technique-other",1)]},{id:"transfer-patient",label:"Transfer and Transport",items:[Q("intv-transfers-patient-method-walk-patient",1),Q("intv-transfers-patient-method-scoop-stretcher",1),Q("intv-transfers-patient-method-transfer-to-stretcher-on-long-backboard",1),Q("intv-transfers-patient-method-other",1)]},{id:"heading-modify-interventions",label:"Modify Interventions",items:[Q("intv-reassess-vital-signs",1),Q("intv-replace-basic-airway-with-advanced-or-intubate",1),Q("intv-replace-bandages",1),Q("intv-replace-oxygen-tank",1),Q("intv-adjust-iv-replace-bolus",1),Q("intv-turn-on-heat-in-ambulance",1)]},{id:"heading-ivs",label:"IVs",items:[Q("intv-establish-ivs",1)]},{id:"heading-administer-medications",label:"Administer Medications",items:q.map((function(e){return Q("intv-medication-".concat(e.id))}))}],X=[G({id:"bsi",items:["required-action-apply-ppe"]}),G({id:"scene-size-up",items:["assess-scene-safety","assess-injury-mechanism","assess-num-patients","assess-need-additional-help","required-action-considers-stabilize-spine"]}),G({id:"primary-survey",subPhases:["general-impression","airway","breathing","circulation","transport-decision"]}),J({id:"general-impression",phase:"primary-survey",items:["assess-patient-condition","assess-loc","assess-life-threats"]}),J({id:"airway",phase:"primary-survey",items:["assess-airway"]}),J({id:"breathing",phase:"primary-survey",items:["assess-breathing"]}),J({id:"circulation",phase:"primary-survey",items:["assess-pulse","assess-skin","assess-major-bleeding"]}),J({id:"transport-decision",phase:"primary-survey",items:["decision-is-load-and-go"]}),G({id:"history-taking",items:["required-action-obtains-vitals","required-action-attempt-obtain-sample","assess-opqrst-info"]}),G({id:"secondary-assessment",subPhases:["trauma-expose","head","neck","shoulders","clavicle","chest","abdomen-pelvis","lower-extremities","upper-extremities","posterior"]}),J({id:"trauma-expose",phase:"secondary-assessment",items:["required-action-remove-patient-clothing-as-needed"]}),J({id:"head",phase:"secondary-assessment",items:["assess-inspects-head","assess-palpate-skull","assess-eyes-reactiveness","assess-eyes-ears-nose-mouth"]}),J({id:"neck",phase:"secondary-assessment",items:["assess-inspects-neck","assess-trachea","assess-jugular","assess-palpate-cervical-spine"]}),J({id:"shoulders",phase:"secondary-assessment",items:["assess-check-shoulders"]}),J({id:"clavicle",phase:"secondary-assessment",items:["assess-inspect-clavicle"]}),J({id:"chest",phase:"secondary-assessment",items:["assess-inspect-chest","assess-palpate-chest","assess-auscultate-chest"]}),J({id:"abdomen-pelvis",phase:"secondary-assessment",items:["assess-inspects-abdomen","assess-palpate-abdomen","assess-pelvis","assess-genitalia-perineum"]}),J({id:"lower-extremities",phase:"secondary-assessment",items:["assessment-with-options-legs-inspects","assessment-with-options-legs-motor-function","assessment-with-options-legs-sensory-function","assessment-with-options-legs-pulse"]}),J({id:"upper-extremities",phase:"secondary-assessment",items:["assessment-with-options-arms-inspects","assessment-with-options-arms-motor-function","assessment-with-options-arms-sensory-function","assessment-with-options-arms-pulse"]}),J({id:"posterior",phase:"secondary-assessment",items:["assess-posterior-inspects","assess-palpate-posterior-thorax"]}),G({id:"ongoing-mgmt-plan",subPhases:["repeat-primary-survey","repeat-secondary-survey","contact-facility"]}),J({id:"repeat-primary-survey",phase:"ongoing-mgmt-plan",items:["required-action-reassess-loc","required-action-reassess-airway","required-action-reassess-breathing","required-action-reassess-circulation"]}),J({id:"repeat-secondary-survey",phase:"ongoing-mgmt-plan",items:["required-action-reassess-vital-signs","required-action-reassess-head-to-toe"]}),J({id:"contact-facility",phase:"ongoing-mgmt-plan",items:["required-action-radio-receiving-facility"]})],$={airway:{id:"airway",label:"Airway",intvs:F(T.AW)},breathing:{id:"breathing",label:"Breathing",intvs:F(T.BR)},bleeding:{id:"bleeding",label:"Bleeding",intvs:F(T.BL)},shock:{id:"shock",label:"Shock",intvs:F(T.SH)}},ee=(D.filter((function(e){return[R.ASSESS,R.ASSESS_OPTION].includes(e.type)})),function(e,t){return function(e,t){return e.collection("scenario-required-actions").where("scenarioName","==",t.name).limit(1).get().then((function(e){if(1===e.size){var i=e.docs[0].data();t.criticalActions=i.criticalActions,t.associations=i.associations}else t.criticalActions=[],t.associations={};return t}))}(e,t).then((function(e){return(t=e).intvMetaData=_(j),t.interventionMenus=_(Z),t.phaseData=_(X),t.systemInterventions=_($),t.interventionForms=_(z),t;var t})).then((function(e){return function(e){var t=[],i={},s=function(e,i,s){var n,a=Object.assign({},e);delete a.items,delete a.dataEntry,a.phase=i,a.subPhase=s||null,t.push(a),null===(n=e.items)||void 0===n||n.map((function(e){e.phase=i,e.subPhase=s||null,t.push(e)}))};return e.phaseData.forEach((function(e){if(e.type===R.PHASE){var n,a,r=e.id,o=Object.assign({},e);delete o.items,delete o.subPhases,delete o.dataEntry,t.push(o),null===(n=e.items)||void 0===n||n.forEach((function(e){return s(e,r,null)})),null===(a=e.subPhases)||void 0===a||a.forEach((function(e){return i[e.id]=r}))}else if(e.type===R.SUB_PHASE){var l=e.id,p=i[l],c=Object.assign({},e);delete c.items,delete c.dataEntry,c.phase=p,t.push(c),e.items.forEach((function(e){return s(e,p,l)}))}})),e.checkListMetaData=t,e}(e)}))}),te=i(55),ie=i(2),se=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),i=t[0],n=t[1],a=Object(s.useState)(!1),r=Object(c.a)(a,2),l=r[0],p=r[1];return Object(s.useEffect)((function(){u.collection("logs").get().then((function(e){return e.docs.map((function(e){var t=e.data();return{id:e.id,label:t.label,scenario:t.scenarioName,userName:t.userName,timestamp:t.timestamp}}))})).then((function(e){n(e),p(!0)})).catch((function(e){return console.log("error fetching logs",e)}))}),[]),l?Object(ie.jsxs)(te.a,{striped:!0,borderless:!0,size:"sm",hover:!0,children:[Object(ie.jsx)("thead",{children:Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("th",{children:"Label"}),Object(ie.jsx)("th",{children:"Scenario"}),Object(ie.jsx)("th",{children:"Username"}),Object(ie.jsx)("th",{children:"Timestamp"})]})}),Object(ie.jsx)("tbody",{children:i.map((function(e){return Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("td",{children:Object(ie.jsx)(o.Link,{to:"/logs/".concat(e.id),children:e.label})}),Object(ie.jsx)("td",{children:e.scenario}),Object(ie.jsx)("td",{children:e.userName}),Object(ie.jsx)("td",{children:e.timestamp})]},e.id)}))})]}):Object(ie.jsx)("h4",{children:"fetching log data"})},ne=i(28),ae=i(60),re=i(56),oe=i(57),le=i(58),pe=i(59),ce=function(e){var t=e.title,i=e.leftNav,n=void 0===i?null:i,a=e.rightNav,r=void 0===a?null:a,o=Object(s.useContext)(p.AuthContext),l=o.isAuthenticated,c=o.userName,d=o.signOutUser;return Object(ie.jsxs)(re.a,{color:"dark",dark:!0,children:[Object(ie.jsx)(oe.a,{href:"#",children:"MedDBriefer"}),!!n&&Object(ie.jsx)(le.a,{children:n}),!!t&&Object(ie.jsx)(pe.a,{tag:"h3",children:t}),Object(ie.jsxs)(le.a,{children:[l&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(pe.a,{children:["Welcome, ",c," \xa0"]}),Object(ie.jsx)(ae.a,{color:"danger",onClick:d,children:"Sign Out"})]}),!!r&&r]})]})},de="text-success",me="text-warning",ue="text-danger",be="text-muted",he="sentiment_satisfied",ye="report_problem",ve="highlight_off",Se="sentiment_neutral",ge=function(e){switch(e.status){case"contraindicated":case"missingMinimal":case"missingRequired":return ve;case"missingStandard":return ye;case"missingAssessment":return ve;case"assessment":return he;case"assessment-option":case"decision-option":return Se;case"required-action":case"standard":return he;case"assessment-option-incorrect":case"decision-option-incorrect":case"standard-incorrect-answers":case"minimal":return ye;case"notFound":default:return Se}},fe=function(e){switch(e.status){case"contraindicated":case"missingMinimal":case"missingRequired":return ue;case"missingStandard":return me;case"missingAssessment":return ue;case"assessment":return de;case"assessment-option":case"decision-option":return be;case"required-action":case"standard":return de;case"assessment-option-incorrect":case"decision-option-incorrect":case"standard-incorrect-answers":case"minimal":return me;case"green":return de;case"yellow":return me;case"red":return ue;case"notFound":default:return be}},Ee=function(e){switch(e.status){case"contraindicated":return e.contraindicatedWhy;case"missingMinimal":return e.minimalWhy;case"missingRequired":return e.requiredWhy;case"missingStandard":return"This is recommended in protocol "+e.protocol;case"missingAssessment":return"Did not do during assessment";case"assessment":return"";case"assessment-option":case"decision-option":return"Not yet checking correctness";case"required-action":return"";case"assessment-option-incorrect":return"You chose the wrong assessment option";case"decision-option-incorrect":return"You chose the wrong decision option";case"standard":return"";case"standard-incorrect-answers":return"The intervention is correct but you answered the details incorrectly";case"minimal":return"You solved the problem but did not follow protocol.  "+e.minimalWhy;case"notFound":return"Assessment knowledge for this entry is not specified for this scenario";default:return"Assessment knowledge for this entry not specified for this scenario"}},we=function(e){return"criticalActionHeader"===e.status?"":-1===e.timestamp?"N/A":(t=e.timestamp,new Date(1e3*t).toISOString().substr(14,5));var t},Oe=function(e){var t=e.log,i=e.scenario,n=Object(s.useState)(!1),a=Object(c.a)(n,2),r=a[0],l=a[1],p=Object(s.useState)(t.events),d=Object(c.a)(p,2),m=d[0],u=(d[1],Object(s.useState)(null)),h=Object(c.a)(u,2),y=h[0],v=h[1],S=function(e,t,i,s){var n=i.phase,a=e.lastIndexOf(n),r=t[a];r||(r=[]),r.splice(s-1,0,i),t[a]=r},g=function(e){var t=i.associations[e],s="";return Array.isArray(t)?t.forEach((function(e,t){i.intvMetaData.forEach((function(t,i){t.id!==e||(""===s?s=t.label:s+=", ")}))})):i.intvMetaData.forEach((function(e,i){e.id===t&&(s=e.label)})),s},f=function(e,t){return e.phaseData.find((function(e){return e.id===t})).label},E=function(){window.events=m;var e=[],t=[],s=function(){var e=[];return i.phaseData.forEach((function(t,i){"phase"===t.type&&e.push(t.id)})),e}(),n=[],a=[],r=[],o="",l=0;m.forEach((function(e,s){var p={id:e.id,numericalID:s,status:e.type,contraindicatedWhy:"",minimalWhy:"",requiredWhy:"",label:e.label,finding:e.finding,vital:e.vital,value:e.value,displayLabel:"",phase:e.phase,subPhase:e.subPhase,type:e.type,prompt:e.prompt,answerCorrect:!0,protocol:"",caLabel:"",intervention:e.intervention,required:!1,actionDescription:e.label,timestamp:e.timestamp,processingState:"good"};o!==e.phase&&""!==o?(a[l]=r,o=e.phase,r=[],n[l+=1]=e.phase):""===o&&(n[l]=e.phase,o=e.phase);var c=p.type;["assessment","required-action","intervention","answer","obtain-vital-sign","decision-option","assessment-option"].includes(c)||(p.processingState="bad");var d=[];if("answer"===c){var m=function(e,t){var s=i.associations[e];return Array.isArray(s)?!s.find((function(e){return e===t})):!(s===t)}(e.promptID,e.id);t.includes(p.intervention)?(d=r.pop(),p.answerCorrect=d.answerCorrect,m?(p.answerCorrect=!1,""===d.actionDescription?p.actionDescription="should have specified: "+p.prompt+" as: "+g(e.promptID):p.actionDescription=d.actionDescription+", "+p.prompt+" as: "+g(e.promptID)):(p.actionDescription=d.actionDescription,p.answerCorrect=d.answerCorrect)):(m?(p.answerCorrect=!1,p.actionDescription="should have specified: "+p.prompt+" as: "+g(e.promptID)):p.actionDescription="",t.push(p.intervention))}"intervention"===c&&(d=r.slice(-1)[0])&&"answer"===d.type&&d.intervention===p.id&&(d=r.pop(),p.answerCorrect=d.answerCorrect,""===d.actionDescription?p.actionDescription=p.label:p.actionDescription=p.label+", "+d.actionDescription),"good"===p.processingState&&("intervention"===p.type&&i.criticalActions.forEach((function(e,t){var i=e.standard,s=e.meta.contraReqOrder.map((function(e){return e.id})),n=e.contraindicated.map((function(e){return e.id})),a=e.contraindicatedWhy,r=[],o=-1;null===s||void 0===s||s.forEach((function(e,t){n.includes(e)||r.push(e)})),null===i||void 0===i||i.forEach((function(t,i){t.id===p.id&&(r.find((function(e){return e.id===p.id}))&&(p.required=!0),p.answerCorrect?p.status="standard":p.status="standard-incorrect-answers",p.label=t.label,p.protocol=e.protocol,p.caLabel=e.label)})),null===n||void 0===n||n.forEach((function(t,i){t.id===p.id&&(p.status="contraindicated",o=s.indexOf(t.id),p.contraindicatedWhy=a[o],p.label=t.label,p.protocol=e.protocol,p.caLabel=e.label)}))})),t.push(p.id),r.push(p))})),a[l]=r,s.forEach((function(e,t){n.includes(e)||(n.splice(t,0,e),a.splice(t,0,[]))}));var p=m.length;i.checkListMetaData.filter((function(e){return[R.ASSESS,R.REQUIRED].includes(e.type)})).forEach((function(e,i){if(!t.includes(e.id)){t.push(e.id);var s={id:e.id,numericalID:p,type:e.type,status:"missingAssessment",contraindicatedWhy:"",minimalWhy:"",label:"Did not do",finding:"",phase:e.phase,subPhase:e.subPhase,caLabel:"",protocol:"",actionDescription:e.label,timestamp:-1};S(n,a,s,i),p++}})),i.criticalActions.forEach((function(e){var i=[],s=-1,r=e.meta.contraReqOrder.map((function(e){return e.id})),o=e.contraindicated.map((function(e){return e.id})),l=e.contraindicatedWhy,c=e.standard.map((function(e){return{id:e.id,label:e.label}}));null===r||void 0===r||r.forEach((function(e,t){o.includes(e)||i.push(e)})),null===c||void 0===c||c.forEach((function(e){i.includes(e.id)&&(e.required=!0)})),null===c||void 0===c||c.forEach((function(o,d){if(!t.includes(o.id)){t.push(o.id);var m={id:o.id,numericalID:p,status:"",contraindicatedWhy:"",minimalWhy:"",requiredWhy:"",label:o.label,finding:"",phase:e.when.during.label,subPhase:o.subPhase,type:"intervention",required:o.required,caLabel:e.label,protocol:e.protocol,actionDescription:o.label,timestamp:-1};i.includes(o.id)?(m.status="missingRequired",s=r.indexOf(o.id),m.requiredWhy=l[s].label):m.status="missingStandard",function(e,t,i,s,n){var a=s.slice(0,n-1),r=s[n-1],o=a.reverse().find((function(e){return e.required})),l=s[n+1],p=s.slice(n+1).find((function(e){return e.required})),c=e.lastIndexOf(i.phase),d=Object(b.a)(t[c]),m=-1,u=-1,h=-1,y=-1,v=!1;r&&(m=d.findIndex((function(e){return e.id===r.id}))),l&&(u=d.findIndex((function(e){return e.id===l.id}))),o&&(h=d.findIndex((function(e){return e.id===o.id}))),p&&(y=d.findIndex((function(e){return e.id===p.id}))),l&&(u=d.findIndex((function(e){return e.id===l.id}))),-1!==h&&(v=h+2,m>h&&(v=m+2)),v||-1===y||(v=y+1,u<y&&(v=u+1)),v||-1===m||(v=m+2),v||-1===u||(v=u+1),v||(v=d.length+2),S(e,t,i,v)}(n,a,m,c,d),p++}}))})),e=function(e,t){var s=-1,n=[],a=1,r=[];return e.forEach((function(e){var o="green";s++,(r=t[s]).forEach((function(e){["contraindicated","missingAssessment","missingRequired"].includes(e.status)&&(o="red"),["missingStandard","standard-incorrect.answers"].includes(e.status)&&"red"!==o&&(o="yellow"),e.numericalID=a,a++}));var l={id:"criticalActionHeader",numericalID:1,status:o,contraindicatedWhy:"",minimalWhy:"",requiredWhy:"",label:f(i,e),protocol:"",actionDescription:"",timestamp:-1};n.push(l),n=n.concat(r)})),n}(n,a);var c="N/A",d=[];e.forEach((function(e,t){if("intervention"===e.type&&e.caLabel&&c!==e.caLabel){c=e.caLabel;var i={id:"criticalActionSubHeader",numericalID:1,status:"green",contraindicatedWhy:"",minimalWhy:"",requiredWhy:"",label:e.caLabel,protocol:"",actionDescription:"",timestamp:-1};d.push(i)}d.push(e)}));var u=[],h=[],y=0,E=-1;d.forEach((function(e,t){if(e.status.includes("standard","standard-incorrect-answers")){h.includes(e.caLabel)?E=h.indexOf(e.caLabel):(h[E=y]=e.caLabel,y++);var i=u[E];i||(i=[]),i.push(e),u[E]=i}}));var w=e.map((function(e){return e.id})),O=i.criticalActions.map((function(e){return e.label}));h.forEach((function(t,s){var n=O.indexOf(t),a=i.criticalActions[n],r=a.standard.map((function(e){return e.id})),o=a.minimal.map((function(e){return e.id}));if(o){var l,p=u[s].map((function(e){return e.id})),c=!0,d=!0,m=Object(ne.a)(r);try{for(m.s();!(l=m.n()).done;){var b=l.value;if(!p.includes(b)){c=!1;break}}}catch(f){m.e(f)}finally{m.f()}var h,y=Object(ne.a)(o);try{for(y.s();!(h=y.n()).done;){var v=h.value;if(!p.includes(v)){d=!1;break}}}catch(f){y.e(f)}finally{y.f()}var S=[];if(!c&&d){o.forEach((function(t,i){var s=w.indexOf(t),n=e[s];n.minimalWhy=a.minimalWhy,n.status="minimal",S.push(n.numericalID),e[s]=n}));var g={};S.forEach((function(t,i){(g=function(e,t){var i,s={},n={},a=Object(ne.a)(t);try{for(a.s();!(i=a.n()).done;){var r=i.value;if("criticalActionHeader"===r.id)s=r;else if(r.numericalID===e){n=s;break}}}catch(f){a.e(f)}finally{a.f()}return n}(t,e))&&"green"===g.status&&(g.status="yellow")}))}}})),console.log("Final log:",d),v(d)};Object(s.useEffect)((function(){E()}),[]);var w=function(e){var t=e.type,i=e.subPhase,s=e.finding,n=e.actionDescription,a="";return"obtain-vital-sign"===t?a="requested "+e.vital+", found = "+e.value:(a=t,i&&(a=a+"/"+i),a=a+": "+n,s&&(a=a+".  Finding: "+s)),a},O=function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("td",{children:e.numericalID}),Object(ie.jsx)("td",{children:we(e)}),Object(ie.jsxs)("td",{className:fe(e),children:[Object(ie.jsx)("span",{className:"material-icons-outlined",children:ge(e)}),w(e)]}),Object(ie.jsx)("td",{children:Ee(e)}),r&&Object(ie.jsx)("td",{children:Object(ie.jsx)("input",{id:"comment-".concat(e.id)})})]})};return null===y?Object(ie.jsx)("h3",{children:"processing"}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ce,{title:"Document: ".concat(t.label),leftNav:Object(ie.jsx)(o.Link,{to:"/",children:"Back"}),rightNav:Object(ie.jsx)(ae.a,{color:"primary",onClick:function(){l(!r)},children:r?"Hide comment column":"Show comment column"})}),Object(ie.jsx)("form",{children:Object(ie.jsx)("div",{style:{overflowY:"auto",maxHeight:"700px"},children:Object(ie.jsxs)(te.a,{borderless:!0,size:"sm",children:[Object(ie.jsx)("thead",{children:Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("th",{className:"table-header",children:" ID "}),Object(ie.jsx)("th",{className:"table-header",children:" Timestamp "}),Object(ie.jsx)("th",{className:"table-header",children:" Action Description "}),Object(ie.jsx)("th",{className:"table-header",children:" Feedback "}),r&&Object(ie.jsx)("th",{className:"table-header",children:" Comments "})]})}),Object(ie.jsx)("tbody",{className:"scrolling",children:y.map((function(e,t){return Object(ie.jsx)("tr",{children:"criticalActionHeader"===e.id||"criticalActionSubHeader"===e.id?(i=e,Object(ie.jsxs)(ie.Fragment,{children:["criticalActionHeader"===i.id?Object(ie.jsx)("td",{colSpan:"4",className:fe(i),children:i.label}):Object(ie.jsx)("td",{colSpan:"10",className:"black",children:i.label}),r&&Object(ie.jsx)("td",{children:Object(ie.jsx)("input",{})})]})):O(e)},t);var i}))})]})})})]})},Ie=function(){var e=Object(l.m)().logID,t=Object(s.useState)(null),i=Object(c.a)(t,2),n=i[0],a=i[1],r=Object(s.useState)(null),o=Object(c.a)(r,2),p=o[0],d=o[1],m=Object(s.useState)(!1),b=Object(c.a)(m,2),h=b[0],y=b[1];return Object(s.useEffect)((function(){(function(e){return u.collection("logs").doc(e).get().then((function(e){var t=e.data();return t.id=e.id,t}))})(e).then((function(e){a(e)}))}),[e]),Object(s.useEffect)((function(){var e,t,i;n&&(e=u,t=n.scenarioName,i="V2",e.collection("scenarios").where("name","==",t).where("schemaVersion","==",i).limit(1).get().then((function(e){if(1===e.size)return e.docs[0].data();throw new Error("document not found")})).then((function(t){return ee(e,t)})).catch((function(e){return e}))).then((function(e){d(e),console.log(e)}))}),[n]),Object(s.useEffect)((function(){p&&y(!0)}),[p]),h?Object(ie.jsx)(Oe,{log:n,scenario:p}):Object(ie.jsx)("h3",{children:"Loading"})},Ae=function(e){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ce,{title:"MedDBriefer Authentication"}),e.children]})},Re=function(e){return Object(ie.jsx)(p.AuthProvider,{children:Object(ie.jsx)(o.HashRouter,{children:Object(ie.jsxs)(l.g,{children:[Object(ie.jsx)(p.PrivateRoute,{exact:!0,path:"/logs/:logID",authFlowLayout:Ae,component:Ie}),Object(ie.jsx)(p.PrivateRoute,{exact:!0,match:"/",authFlowLayout:Ae,component:se})]})})})},Pe=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,61)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;i(e),s(e),n(e),a(e),r(e)}))};r.a.render(Object(ie.jsx)(n.a.StrictMode,{children:Object(ie.jsx)(Re,{})}),document.getElementById("root")),Pe()}},[[54,1,2]]]);
//# sourceMappingURL=main.76b655f7.chunk.js.map